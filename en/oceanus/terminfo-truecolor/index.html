<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" />
    
    <link rel="stylesheet" href="https://quinoa42.github.io/style/site.min.css">
    <title>
  Terminfo for iterm2 and tmux that support italics, truecolor and fixed ctrl-h &ndash; Emain Ablach
</title>
  </head>
  <body>
    <header id="header">
      <div class="logo"><a href="https://quinoa42.github.io/">Emain Ablach</a></div>
      <nav class="jumplist">
        <ul>
          
          <li><a href="https://quinoa42.github.io/en/oceanus/">Oceanus</a></li>
          
          <li><a href="https://quinoa42.github.io/en/whimsia/">Whimsia</a></li>
          
        </ul>
      </nav>
    </header>
    <main>
    
<article>
  <header>
    <h1>Terminfo for iterm2 and tmux that support italics, truecolor and fixed ctrl-h</h1>
    <div class="reading-info">
      <div class="left">
        <span>236 words</span>
        <span>
          &bull;
        </span>
        <span>2 min read</span>
      </div>
      <div class="right">
        <span><time>published at 11-23-2016</time></span>
        <span>
          &bull;
        </span>
        <span><time>last modified at 11-02-2019</time></span>
      </div>
    </div>
  </header>
  

<p>Everyone likes true color. But the true color support doesn&rsquo;t come out of the box for most terminal emulators, and some of them are just never going to support it. However, for some of them with some simple tweak true color will just simply be available.</p>

<h2 id="iterm2">iterm2</h2>

<p>Make a new file called <code>term-256color-italic.terminfo</code>, and add these:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"># A xterm-256color based TERMINFO that adds the escape sequences for italic.
xterm-256color-italic|xterm with 256 colors and italic,
  sitm=\E[3m, ritm=\E[23m,
  kbs=\177,
  use=xterm-256color,</code></pre></div>
<p>then,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">tic xterm-256color-italic.terminfo</code></pre></div>
<p>Open iterm&rsquo;s <code>Preferences/profiles/Terminal</code> page, and edit <code>Report Terminal Type</code> into <code>xterm-256color-italic</code>.</p>

<p>iTerm natively support true color.</p>

<h2 id="tmux">tmux</h2>

<p>Make a new file called <code>tmux.terminfo</code>, and add these:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"># A screen-256color based TERMINFO that adds the escape sequences for italic.
# run to add to term db: tic -x tmux.terminfo
tmux|tmux terminal multiplexer,
  ritm=\E[23m, rmso=\E[27m, sitm=\E[3m, smso=\E[7m, Ms@,
  use=xterm, use=screen,
  kbs=\177,

tmux-256color|tmux with 256 colors,
  use=xterm-256color, use=tmux,
  kbs=\177,</code></pre></div>
<p>then,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">tic -x tmux.terminfo</code></pre></div>
<p>Also add these to your <code>.tmux.conf</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tmux" data-lang="tmux"># use italic
set -g default-terminal &#34;tmux-256color&#34;
# true color!!!
set-option -ga terminal-overrides &#34;,xterm-256color-italic:Tc&#34;</code></pre></div>
<h2 id="neovim">neovim</h2>

<p>Now , time to set up neovim (using
<a href="https://github.com/icymind/NeoSolarized">NeoSolarized</a>):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vimrc" data-lang="vimrc"><span style="color:#75715e">&#34; enable 256 colors</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">t_Co</span>=<span style="color:#ae81ff">256</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;nvim&#39;</span>) <span style="color:#75715e">&#34; enable true color</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>    <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">termguicolors</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>    <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">t_8f</span>=^[[<span style="color:#ae81ff">38</span>;<span style="color:#ae81ff">2</span>;%<span style="color:#a6e22e">lu</span>;%<span style="color:#a6e22e">lu</span>;%<span style="color:#a6e22e">lum</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>    <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">t_8b</span>=^[[<span style="color:#ae81ff">48</span>;<span style="color:#ae81ff">2</span>;%<span style="color:#a6e22e">lu</span>;%<span style="color:#a6e22e">lu</span>;%<span style="color:#a6e22e">lum</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">endif</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">
</span><span style="color:#75715e">&#34; color theme</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">colorscheme</span> <span style="color:#a6e22e">NeoSolarized</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34; set background type</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">background</span>=dark</code></pre></div>
<p>Note that <code>^[</code> is the special character <code>\e</code>.</p>

<h2 id="reference">Reference</h2>

<ul>
<li><a href="https://github.com/icymind/NeoSolarized">NeoSolarized</a></li>
<li><a href="https://alexpearce.me/2014/05/italics-in-iterm2-vim-tmux/">Italic fonts in iTerm2, tmux, and vim</a></li>
<li><a href="http://apple.stackexchange.com/a/249385">Answer by Bret Fisher in a question on AskDifferent</a></li>
<li><a href="https://github.com/neovim/neovim/wiki/FAQ#my-ctrl-h-mapping-doesnt-work">Solution to fix ctrl-h for neovim</a></li>
</ul>

  <footer class="reading-info">
    <div class="left">
       <div class="tags">
    &#x1f3f7;
    <nav class="jumplist">
        <ul>
          
    
    
    <li><a href="https://quinoa42.github.io/en/categories/software/">software</a></li>
    


          
    
    
    <li><a href="https://quinoa42.github.io/en/tags/terminal/">terminal</a></li>
    

    
    
    <li><a href="https://quinoa42.github.io/en/tags/tmux/">tmux</a></li>
    


        </ul>
    </nav>
</div>

    </div>
    <div class="right">
      <a href="https://quinoa42.github.io/en/oceanus/terminfo-truecolor/">permallink to this post</a>
    </div>
  </footer>
</article>

    </main>
    <footer id="footer">
    
    <hr />
    <div><a href="https://github.com/quinoa42">GitHub</a></div>
    <div><a href="https://bgm.tv/user/112851">Bangumi</a></div>
    <div><a href="https://myanimelist.net/profile/quinoa42">MyAnimeList</a></div>
    
    </footer>
  </body>
</html>
