<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" />
    
    <link rel="stylesheet" href="https://quinoa42.github.io/style/site.min.css">
    <title>
  quinoa42&#39;s dotEmacs &ndash; Emain Ablach
</title>
  </head>
  <body>
    <header id="header">
      <div class="heading left">
        
        <a class="logo" href="/en/" title="">Emain Ablach</a>
        
        
        <a class="lang-op" href="/en/" title="">en</a>
        
        <a class="lang-op" href="/jp/" title="">jp</a>
        
        <a class="lang-op" href="/zh/" title="">zh</a>
        
      </div>
      <div class="right">
        <nav class="jumplist">
          <ul>
            
            
            <li>
              <a href="/en/oceanus/" title="">Oceanus</a>
            </li>
            
            <li>
              <a href="/en/whimsia/" title="">Whimsia</a>
            </li>
            
          </ul>
        </nav>
        <nav class="jumplist">
          <ul>
            
            
            <li>
              <a href="/en/about" title="">About</a>
            </li>
            
            <li>
              <a href="/en/dot-emacs" title="">init.el</a>
            </li>
            
          </ul>
        </nav>
      </div>
    </header>
    <main>
    
<article>
  <header>
    <h1>quinoa42&#39;s dotEmacs</h1>
    <div class="reading-info">
      <div class="left">
        <span>5760 words</span>
        <span>
          &bull;
        </span>
        <span>28 min read</span>
      </div>
      <div class="right">
        <span><time>published at 10-28-2019</time></span>
        <span>
          &bull;
        </span>
        <span><time>last modified at 11-03-2019</time></span>
      </div>
    </div>
  </header>
  

<p>Here is a list of blogs / configurations that I&rsquo;ve grabbed code from or absorbed ideas from. All of them worth reading.</p>

<ul>
<li><a href="https://github.com/zzamboni/dot-emacs/blob/master/init.org">zzamboni&rsquo;s Emacs config file</a></li>
<li><a href="https://github.com/rafadc/emacs.d/blob/master/settings.org">Rafa’s Emacs settings file</a></li>
<li><a href="https://ladicle.com/post/config/">Ladicle&rsquo;s Emacs Configuration</a></li>
<li><a href="https://jamiecollinson.com/blog/my-emacs-config/">Jamie Collinson&rsquo;s Emacs Config</a></li>
<li><a href="https://github.com/munen/emacs.d/blob/master/configuration.org">munen&rsquo;s Emacs configuration</a></li>
<li><a href="https://karl-voit.at/2017/06/03/emacs-org/">Karl Voit&rsquo;s Emacs Configuration In Org-mode</a> and the <a href="https://github.com/novoid/dot-emacs">repo</a></li>
</ul>

<p>This file might be out of sync. The newest version is available <a href="https://github.com/quinoa42/dotfiles/tree/master/applications/emacs">here</a>.</p>

<div class="ox-hugo-toc toc">
<div></div>

<div class="heading">Table of Contents</div>

<ul>
<li><a href="#general-settings">General Settings</a>

<ul>
<li><a href="#coding-and-languages">Coding and Languages</a></li>
<li><a href="#tangle-init-dot-el">Tangle <code>init.el</code></a></li>
<li><a href="#some-helpful-defaults">Some helpful defaults</a></li>
</ul></li>
<li><a href="#emacs-as-a-server">Emacs as a server</a></li>
<li><a href="#platform-specific">Platform Specific</a>

<ul>
<li><a href="#macos">MacOS</a></li>
<li><a href="#windows">Windows</a></li>
<li><a href="#linux">Linux</a></li>
<li><a href="#gui">GUI</a></li>
<li><a href="#tui">TUI</a></li>
</ul></li>
<li><a href="#package-management">Package Management</a>

<ul>
<li><a href="#proxy-archives-and-mirrors">Proxy, Archives and Mirrors</a></li>
<li><a href="#initialization">Initialization</a></li>
<li><a href="#use-package">Use-package</a></li>
<li><a href="#paradox">Paradox</a></li>
</ul></li>
<li><a href="#miscs">Miscs</a>

<ul>
<li><a href="#xdg">Xdg</a></li>
<li><a href="#bookmark">Bookmark</a></li>
<li><a href="#recentf">Recentf</a></li>
<li><a href="#editorconfig">Editorconfig</a></li>
</ul></li>
<li><a href="#colors">Colors</a></li>
<li><a href="#key-bindings">Key Bindings</a>

<ul>
<li><a href="#which-key">Which-key</a></li>
<li><a href="#general">General</a></li>
<li><a href="#hercules">Hercules</a></li>
<li><a href="#evil">Evil</a></li>
</ul></li>
<li><a href="#spell-checking">Spell Checking</a></li>
<li><a href="#ui-enhance">UI Enhance</a>

<ul>
<li><a href="#helm">Helm</a></li>
<li><a href="#ivy">Ivy</a></li>
<li><a href="#highlight-indent-guides">highlight-indent-guides</a></li>
<li><a href="#undo-tree">Undo-tree</a></li>
<li><a href="#ggtags">ggtags</a></li>
<li><a href="#treemacs">Treemacs</a></li>
<li><a href="#telephone-line">Telephone-line</a></li>
<li><a href="#with-editor">with-editor</a></li>
</ul></li>
<li><a href="#completion">Completion</a>

<ul>
<li><a href="#company">Company</a></li>
<li><a href="#company-quickhelp">Company-quickhelp</a></li>
<li><a href="#company-box">Company-box</a></li>
</ul></li>
<li><a href="#templates">Templates</a>

<ul>
<li><a href="#yasnippet">Yasnippet</a></li>
<li><a href="#yankpad">Yankpad</a></li>
</ul></li>
<li><a href="#code">Code</a>

<ul>
<li><a href="#xref">xref</a></li>
<li><a href="#projectile">Projectile</a></li>
<li><a href="#flycheck">flycheck</a></li>
<li><a href="#lsp-mode">lsp-mode</a></li>
</ul></li>
<li><a href="#org-mode">Org Mode</a>

<ul>
<li><a href="#general-settings">general settings</a></li>
<li><a href="#general-keybindings">general keybindings</a></li>
<li><a href="#task-management">task management</a></li>
<li><a href="#babel">babel</a></li>
<li><a href="#org-brain">org-brain</a></li>
<li><a href="#org-board">org-board</a></li>
<li><a href="#deft">deft</a></li>
<li><a href="#toc-org">toc-org</a></li>
<li><a href="#ox-hugo">ox-hugo</a></li>
<li><a href="#style-and-faces">style and faces</a></li>
</ul></li>
<li><a href="#language-specific">Language specific</a>

<ul>
<li><a href="#plantuml">plantuml</a></li>
<li><a href="#rust">rust</a></li>
<li><a href="#beancount">beancount</a></li>
</ul></li>
<li><a href="#magit">Magit</a></li>
</ul>

<p></div>
<!--endtoc--></p>

<h2 id="general-settings">General Settings</h2>

<h3 id="coding-and-languages">Coding and Languages</h3>

<p>Use Utf-8 as the default coding system.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">set-language-environment</span> <span style="color:#a50">&#34;UTF-8&#34;</span>)
(<span style="color:#a00">prefer-coding-system</span> <span style="color:#00a">&#39;utf-8-unix</span>)</code></pre></div>
<h3 id="tangle-init-dot-el">Tangle <code>init.el</code></h3>

<p>When there is no <code>init.el</code> tangled yet, run <code>C-c</code> on this block to generate the first <code>init.el</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">let</span> ((<span style="color:#a00">src</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;readme.org&#34;</span> <span style="color:#a00">user-emacs-directory</span>))
      (<span style="color:#a00">dst</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;init.el&#34;</span> <span style="color:#a00">user-emacs-directory</span>)))
  (<span style="color:#0aa">when</span> (<span style="color:#0a0">file-newer-than-file-p</span> <span style="color:#a00">src</span> <span style="color:#a00">dst</span>)
    (<span style="color:#0a0">call-process</span> (<span style="color:#0a0">concat</span> <span style="color:#0a0">invocation-directory</span> <span style="color:#0a0">invocation-name</span>)
                  <span style="color:#a00">nil</span> <span style="color:#a00">nil</span> <span style="color:#a00">t</span>
                  <span style="color:#a50">&#34;-q&#34;</span> <span style="color:#a50">&#34;--batch&#34;</span> <span style="color:#a50">&#34;--eval&#34;</span> <span style="color:#a50">&#34;(require &#39;ob-tangle)&#34;</span>
                  <span style="color:#a50">&#34;--eval&#34;</span> (<span style="color:#0a0">format</span> <span style="color:#a50">&#34;(org-babel-tangle-file \&#34;%s\&#34; \&#34;%s\&#34; &#39;emacs-lisp)&#34;</span> <span style="color:#a00">src</span> <span style="color:#a00">dst</span>)))
  <span style="color:#aaa;font-style:italic">;; (require &#39;bytecomp)</span>
  <span style="color:#aaa;font-style:italic">;; (byte-recompile-file dst nil 0 t)</span>
  )</code></pre></div>
<h3 id="some-helpful-defaults">Some helpful defaults</h3>

<p>It is reasonable to just turn off menu bar because I want to go mouse-less.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">menu-bar-mode</span> <span style="color:#099">-1</span>)
(<span style="color:#a00">column-number-mode</span> <span style="color:#099">1</span>)</code></pre></div>
<p>I don&rsquo;t know if there is any who would like the wierd tab-space-hybird indent mode.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq-default</span> <span style="color:#a00">indent-tabs-mode</span> <span style="color:#a00">nil</span>)</code></pre></div>
<p>If this is set to <code>nil</code>, hard link to the edited file will point to the backup file after backup process.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">backup-by-copying</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Version-controlled backup:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">version-control</span> <span style="color:#a00">t</span>
      <span style="color:#a00">delete-old-versions</span> <span style="color:#a00">t</span>
      <span style="color:#a00">kept-new-versions</span> <span style="color:#099">6</span>
      <span style="color:#a00">kept-old-versions</span> <span style="color:#099">2</span>)</code></pre></div>
<p>4-space indentation:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq-default</span> <span style="color:#a00">tab-width</span> <span style="color:#099">4</span>)
(<span style="color:#0aa">defvaralias</span> <span style="color:#00a">&#39;c-basic-offset</span> <span style="color:#00a">&#39;tab-width</span>)
(<span style="color:#0aa">defvaralias</span> <span style="color:#00a">&#39;cperl-indent-level</span> <span style="color:#00a">&#39;tab-width</span>)</code></pre></div>
<p>General programming set up:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">add-hook</span> <span style="color:#00a">&#39;prog-mode-hook</span>
          (<span style="color:#0aa">lambda</span> ()
            (<span style="color:#0aa">setq</span> <span style="color:#a00">truncate-lines</span> <span style="color:#a00">t</span>)
            (<span style="color:#a00">display-line-numbers-mode</span> <span style="color:#099">1</span>)))</code></pre></div>
<p>Turn off lockfiles. They cannot be moved to a different directory, and they consistently screw up with file watchers and version control systems, so it&rsquo;d be just easier to turn this feature off.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">create-lockfiles</span> <span style="color:#a00">nil</span>)</code></pre></div>
<h2 id="emacs-as-a-server">Emacs as a server</h2>

<p>One of the most disadvantage of Emacs compared with Vim is its startup time. Running Emacs as a server improves this to a really usable level.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">require</span> <span style="color:#00a">&#39;server</span>)
(<span style="color:#0aa">unless</span> (<span style="color:#a00">server-running-p</span>)
  (<span style="color:#a00">server-start</span>))</code></pre></div>
<h2 id="platform-specific">Platform Specific</h2>

<p>This part contains code specific to platforms, usually UI or PATH related.</p>

<h3 id="macos">MacOS</h3>

<p>I don&rsquo;t have specific code for Mac yet.</p>

<h3 id="windows">Windows</h3>

<p>Said to be a way to make Emacs faster on windows (by running GC less often)</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">when</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;windows-nt</span>)
  (<span style="color:#0aa">setq</span> <span style="color:#a00">gc-cons-threshold</span> (<span style="color:#0a0">*</span> <span style="color:#099">512</span> <span style="color:#099">1024</span> <span style="color:#099">1024</span>))
  (<span style="color:#0aa">setq</span> <span style="color:#a00">gc-cons-percentage</span> <span style="color:#099">0.5</span>)
  (<span style="color:#a00">run-with-idle-timer</span> <span style="color:#099">5</span> <span style="color:#a00">t</span> <span style="color:#0a0">#&#39;garbage-collect</span>))</code></pre></div>
<p>Also, the default font for Chinese slow down Emacs terribly on Windows:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">when</span> (<span style="color:#0a0">eq</span> <span style="color:#0a0">window-system</span> <span style="color:#00a">&#39;w32</span>)
  (<span style="color:#0aa">dolist</span> (<span style="color:#a00">charset</span> &#39;(<span style="color:#a00">kana</span> <span style="color:#a00">han</span> <span style="color:#a00">cjk-misc</span> <span style="color:#a00">bopomofo</span>))
    (<span style="color:#0a0">set-fontset-font</span> <span style="color:#a00">t</span> <span style="color:#a00">charset</span> (<span style="color:#0a0">font-spec</span> <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Microsoft Yahei&#34;</span>))))</code></pre></div>
<h3 id="linux">Linux</h3>

<p>I don&rsquo;t have specific code for Linux yet.</p>

<h3 id="gui">GUI</h3>

<p>Turn off blink cursor, scroll bar and tool bar:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">ignore-errors</span>
  (<span style="color:#a00">blink-cursor-mode</span> <span style="color:#099">-1</span>)
  (<span style="color:#a00">scroll-bar-mode</span> <span style="color:#099">-1</span>)
  (<span style="color:#a00">tool-bar-mode</span> <span style="color:#099">-1</span>))</code></pre></div>
<p>Setting faces. Technically this should be done in the <code>TRUE</code> branch for all cases, but <code>(x-*-fonts)</code> functions are not available in TUI Emacs, including <code>systemd</code>-started Emacs daemon.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;default</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:height</span> <span style="color:#099">140</span>)
(<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:weight</span> <span style="color:#00a">&#39;normal</span> <span style="color:#0aa">:inherit</span> <span style="color:#00a">&#39;default</span>)
(<span style="color:#0aa">if</span> (<span style="color:#a00">display-graphic-p</span>)
    (<span style="color:#0aa">progn</span> <span style="color:#aaa;font-style:italic">;; TRUE: try fallback</span>
      (<span style="color:#0aa">cond</span>
       ((<span style="color:#0a0">x-family-fonts</span> <span style="color:#a50">&#34;Latin Modern Math&#34;</span>)        (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Latin Modern Math&#34;</span>))
       ((<span style="color:#0a0">x-list-fonts</span>   <span style="color:#a50">&#34;Lucida Grande&#34;</span>)            (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:font</span>   <span style="color:#a50">&#34;Lucida Grande&#34;</span>))
       ((<span style="color:#0a0">x-list-fonts</span>   <span style="color:#a50">&#34;Verdana&#34;</span>)                  (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:font</span>   <span style="color:#a50">&#34;Verdana&#34;</span>))
       ((<span style="color:#0a0">x-family-fonts</span> <span style="color:#a50">&#34;Sans Serif&#34;</span>)               (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Sans Serif&#34;</span>))
       (<span style="color:#a00">nil</span> (warn <span style="color:#a50">&#34;Cannot find a Sans Serif Font.&#34;</span>)))
      (<span style="color:#0aa">cond</span>
       ((<span style="color:#0a0">x-list-fonts</span>   <span style="color:#a50">&#34;DejaVuSansMono Nerd Font&#34;</span>) (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;default</span> <span style="color:#a00">nil</span>        <span style="color:#0aa">:font</span>   <span style="color:#a50">&#34;DejaVuSansMono Nerd Font&#34;</span>))
       ((<span style="color:#0a0">x-family-fonts</span> <span style="color:#a50">&#34;Consolas&#34;</span>)                 (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;default</span> <span style="color:#a00">nil</span>        <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Consolas&#34;</span>))
       ((<span style="color:#0a0">x-family-fonts</span> <span style="color:#a50">&#34;Monospace&#34;</span>)                (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;default</span> <span style="color:#a00">nil</span>        <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Monospace&#34;</span>))
       (<span style="color:#a00">nil</span> (warn <span style="color:#a50">&#34;Cannot find a Mono Font.&#34;</span>))))
  (<span style="color:#0aa">progn</span> <span style="color:#aaa;font-style:italic">;; FALSE: hard coded based on system</span>
    (<span style="color:#0aa">when</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;gnu/linux</span>)
      (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;default</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:font</span> <span style="color:#a50">&#34;DejaVuSansMono Nerd Font&#34;</span>)
      (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Latin Modern Math&#34;</span>))
    (<span style="color:#0aa">when</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;windows-nt</span>)
      (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;default</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:font</span> <span style="color:#a50">&#34;Consolas&#34;</span>)
      (<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;variable-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:family</span> <span style="color:#a50">&#34;Microsoft Yahei&#34;</span>))))
(<span style="color:#a00">set-face-attribute</span> <span style="color:#00a">&#39;fixed-pitch</span> <span style="color:#a00">nil</span> <span style="color:#0aa">:inherit</span> <span style="color:#00a">&#39;default</span>)</code></pre></div>
<h3 id="tui">TUI</h3>

<p>I don&rsquo;t have specific code for TUI yet.</p>

<h2 id="package-management">Package Management</h2>

<h3 id="proxy-archives-and-mirrors">Proxy, Archives and Mirrors</h3>

<p>I use my local proxy to speed up paradox:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">url-proxy-services</span> &#39;((<span style="color:#a50">&#34;no_proxy&#34;</span> . <span style="color:#a50">&#34;^\\(localhost\\|10\\..*\\|192\\.168\\..*\\)&#34;</span>)
                           (<span style="color:#a50">&#34;http&#34;</span> . <span style="color:#a50">&#34;127.0.0.1:8118&#34;</span>)
                           (<span style="color:#a50">&#34;https&#34;</span> . <span style="color:#a50">&#34;127.0.0.1:8118&#34;</span>)))</code></pre></div>
<p>And also, set package archive to include ELPA, MELPA and org&rsquo;s, with TUNA&rsquo;s mirror:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">package-archives</span> &#39;((<span style="color:#a50">&#34;gnu&#34;</span>   . <span style="color:#a50">&#34;http://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/&#34;</span>)
                         (<span style="color:#a50">&#34;melpa&#34;</span> . <span style="color:#a50">&#34;http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/&#34;</span>)
                         (<span style="color:#a50">&#34;org&#34;</span> . <span style="color:#a50">&#34;http://mirrors.tuna.tsinghua.edu.cn/elpa/org/&#34;</span>)))</code></pre></div>
<h3 id="initialization">Initialization</h3>

<p>From <a href="package-initialize">package-initialize help page</a>:</p>

<blockquote>
<p>If called as part of loading ‘user-init-file’, set
‘package-enable-at-startup’ to nil, to prevent accidentally loading
packages twice.</p>
</blockquote>

<p>Thus, I use the following block to load packages:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">package-enable-at-startup</span> <span style="color:#a00">nil</span>)
(<span style="color:#a00">package-initialize</span>)</code></pre></div>
<h3 id="use-package">Use-package</h3>

<p><a href="https://github.com/jwiegley/use-package">use-package</a> is a wonderful package configuration helper (and not a package manager!). If it is not available in the current system, use <code>M-x package-install RET use-package RET</code> to fetch it from MELPA.</p>

<p>Now load <code>use-package</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">eval-when-compile</span>
  (<span style="color:#0aa">require</span> <span style="color:#00a">&#39;use-package</span>))</code></pre></div>
<p>Also, I&rsquo;d like to turn on <code>use-package</code>&rsquo;s statistic recording to see if my config is correctly set up:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">setq</span> <span style="color:#a00">use-package-compute-statistics</span> <span style="color:#a00">t</span>)</code></pre></div>
<h3 id="paradox">Paradox</h3>

<p><a href="https://github.com/Malabarba/paradox">Paradox</a> is a modernized Emacs&rsquo; package menu that supports displaying GitHub stars along the entries, filtering and sorting, async installation, etc.</p>

<p>I disabled the GitHub integration because it doesn&rsquo;t seem to work on my machines.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">paradox</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:commands</span> <span style="color:#a00">paradox-list-packages</span>
  <span style="color:#0aa">:custom</span>
  (<span style="color:#a00">paradox-github-token</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">paradox-automatically-star</span> <span style="color:#a00">nil</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">paradox-enable</span>))</code></pre></div>
<h2 id="miscs">Miscs</h2>

<h3 id="xdg">Xdg</h3>

<p>Start from Emacs 26, we hav buit-in suport for <code>xdg</code>.
Then it will be reasonble to put those annoying but extremely helpful stuff into xdg cache:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">xdg</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#0aa">let</span> ((<span style="color:#a00">backup-dir</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/backup/&#34;</span> (<span style="color:#a00">xdg-data-home</span>)))
        (<span style="color:#a00">autosave-dir</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/autosave/&#34;</span> (<span style="color:#a00">xdg-cache-home</span>))))
    (<span style="color:#a00">mkdir</span> <span style="color:#a00">backup-dir</span> <span style="color:#a00">t</span>)
    (<span style="color:#a00">mkdir</span> <span style="color:#a00">autosave-dir</span> <span style="color:#a00">t</span>)
    (<span style="color:#0aa">setq</span> <span style="color:#a00">backup-directory-alist</span>
          `((<span style="color:#a50">&#34;.&#34;</span> . ,<span style="color:#a00">backup-dir</span>)))
    (<span style="color:#0aa">setq</span> <span style="color:#a00">auto-save-file-name-transforms</span>
          `((<span style="color:#a50">&#34;.*&#34;</span> ,<span style="color:#a00">autosave-dir</span> <span style="color:#a00">t</span>)))))</code></pre></div>
<h3 id="bookmark">Bookmark</h3>

<p>Emacs has its own <code>bookmark</code> system built-in:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">bookmark</span>
  <span style="color:#0aa">:defer</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">setq</span> <span style="color:#a00">bookmark-default-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/bookmarks&#34;</span> (<span style="color:#a00">xdg-data-home</span>))))</code></pre></div>
<h3 id="recentf">Recentf</h3>

<p><code>recentf</code> (also a built-in) saves recent file list.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">recentf</span>
  <span style="color:#0aa">:defer</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">setq</span> <span style="color:#a00">recentf-save-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/recentf&#34;</span> (<span style="color:#a00">xdg-cache-home</span>))))</code></pre></div>
<h3 id="editorconfig">Editorconfig</h3>

<p><a href="https://editorconfig.org/">editorconfig</a> is a very handy tool that standardize how different editors should behave according to different language, including tab width, trailing space and so on. It is not only helpful for team to maintain a codestyle standard, but also a handful tool for people use several different editors / computers, like I do.</p>

<p><a href="https://github.com/editorconfig/editorconfig-emacs">editorconfig-emacs</a> implements its own <code>editorconfig</code> core, so It&rsquo;s logical to assume that it works on any platform.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">editorconfig</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">editorconfig-mode</span> <span style="color:#099">1</span>))</code></pre></div>
<h2 id="colors">Colors</h2>

<p>I&rsquo;m currently using the emacs port of my vim era favorite, gruvbox:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">gruvbox-theme</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">load-theme</span> <span style="color:#00a">&#39;gruvbox</span> <span style="color:#a00">t</span>))</code></pre></div>
<p>Add / custom the <code>hi-lock-faces</code> (&lsquo;cause <code>#000000</code> is too hard to read on my screen):</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">hi-lock</span>
  <span style="color:#0aa">:commands</span> <span style="color:#a00">hi-lock-mode</span>
  <span style="color:#0aa">:custom-face</span>
  (<span style="color:#a00">hi-black-b</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#fdf4c1&#34;</span>))))
  (<span style="color:#a00">hi-black-hb</span>              ((<span style="color:#a00">t</span> (<span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#fabd2f&#34;</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span>))))
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">defface</span> <span style="color:#a00">hi-purple-b</span>
    &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#d3869b&#34;</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>)))
    <span style="color:#a50">&#34;Face for hi-lock mode&#34;</span>
    <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;hi-lock-faces</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#0aa">push</span> <span style="color:#a50">&#34;hi-purple-b&#34;</span> <span style="color:#a00">hi-lock-face-defaults</span>))</code></pre></div>
<h2 id="key-bindings">Key Bindings</h2>

<p>References:</p>

<ol>
<li><a href="https://sam217pa.github.io/2016/09/23/keybindings-strategies-in-emacs/">Keybindings strategies in Emacs</a> by Samuel Barreto.</li>
</ol>

<h3 id="which-key">Which-key</h3>

<p><a href="https://github.com/justbur/emacs-which-key">which-key</a> is a minor mode that hints you the keybindings prefixed with what you have typed when you get stucked.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">which-key</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">which-key-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<h3 id="general">General</h3>

<blockquote>
<p>A general is a leader. – onioncheese</p>
</blockquote>

<p><a href="https://github.com/noctuid/general.el">General</a> is a, well, general-purpose key-binding interface for emacs.</p>

<p>There is not much config for general yet, besides enable it I simply turn on its <a href="#evil">Evil</a> integration:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">general</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">which-key</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">general-evil-setup</span>)
  (<span style="color:#a00">general-create-definer</span> <span style="color:#a00">my/leader-def</span>
    <span style="color:#aaa;font-style:italic">;; :prefix my-leader</span>
    <span style="color:#0aa">:prefix</span> <span style="color:#a50">&#34;C-c&#34;</span>)
  )</code></pre></div>
<h3 id="hercules">Hercules</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-09-15 Sun 13:59] </span></span> <br />
It does not work too well with <code>evil-window-map</code>, even if <code>which-key</code> is set to use minibuffer.</li>
</ul>

<blockquote>
<p>An auto-magical, <code>which-key</code> based <code>hydra</code> banisher.
&hellip;
If only there was a way to make a <code>hydra</code> without having to list all the bindings explicitly…
Kind of like =which-key=…</p>
</blockquote>

<p>Did you get the idea what <a href="https://gitlab.com/jjzmajic/hercules.el">hercules</a> is used for? neither do I (at the first glance)! In short, by using the power of <a href="https://github.com/justbur/emacs-which-key">which-key</a>, <code>hercules</code> can build a <code>hydra</code> when given a keymap.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">hercules</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">general</span>)</code></pre></div>
<h3 id="evil">Evil</h3>

<p>It&rsquo;s name tells everything: the Extensible Vi Layer for Emacs, <a href="https://github.com/emacs-evil/evil">Evil</a>. It works pretty well as a Vim simulation, much better than VsCode&rsquo;s or Intellij&rsquo;s. Besides, it is charming combination of Vim&rsquo;s model-based editing with Emacs&rsquo; keymap system, to some extent, as a personal opinion, better than the native Vim on the model-based editing system.</p>

<p>References:</p>

<ul>
<li><a href="https://github.com/noctuid/evil-guide">evil-guide</a> by noctuid</li>
</ul>

<!--listend-->
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-disable-insert-state-bindings</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-respect-visual-line-mode</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-search-module</span> <span style="color:#00a">&#39;evil-search</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-want-integration</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-want-keybinding</span> <span style="color:#a00">nil</span>)
  <span style="color:#0aa">:general</span>
  ([<span style="color:#a00">remap</span> <span style="color:#a00">evil-emacs-state</span>] <span style="color:#00a">&#39;evil-normal-state</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-j&#34;</span> <span style="color:#00a">&#39;evil-window-down</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-k&#34;</span> <span style="color:#00a">&#39;evil-window-up</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-h&#34;</span> <span style="color:#00a">&#39;evil-window-left</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-l&#34;</span> <span style="color:#00a">&#39;evil-window-right</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">evil-ex-search-forward</span>] <span style="color:#00a">&#39;swiper</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">evil-ex-search-backward</span>] <span style="color:#00a">&#39;swiper-backward</span>)
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;SPC&#34;</span> (<span style="color:#a00">general-simulate-key</span> <span style="color:#a50">&#34;C-c&#34;</span>))
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
    <span style="color:#a50">&#34;o&#34;</span> &#39;(<span style="color:#a00">my/insert-line-below</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;O&#34;</span> &#39;(<span style="color:#a00">my/insert-line-above</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>))
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-d&#34;</span> (<span style="color:#a00">general-simulate-key</span> <span style="color:#a50">&#34;C-x 5&#34;</span>))
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 q&#34;</span> <span style="color:#00a">&#39;delete-frame</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 o&#34;</span> <span style="color:#00a">&#39;delete-other-frames</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 C-d&#34;</span> <span style="color:#00a">&#39;other-frame</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 s&#34;</span> <span style="color:#00a">&#39;make-frame-command</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 v&#34;</span> <span style="color:#00a">&#39;make-frame-command</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 g d&#34;</span> <span style="color:#00a">&#39;xref-find-definitions-other-frame</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">evil-mode</span> <span style="color:#099">1</span>))</code></pre></div>
<p>I don&rsquo;t want to use Vim&rsquo;s insert mode bindings in insert state:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-disable-insert-state-bindings</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Then, given that I&rsquo;m using emacs&rsquo; bindings in insert state, there is no point to use the emacs state which is so hard to escape from:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">([<span style="color:#a00">remap</span> <span style="color:#a00">evil-emacs-state</span>] <span style="color:#00a">&#39;evil-normal-state</span>)</code></pre></div>
<p><a href="https://github.com/christoomey/vim-tmux-navigator">vim-tmux-navigator</a>-like window control:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-j&#34;</span> <span style="color:#00a">&#39;evil-window-down</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-k&#34;</span> <span style="color:#00a">&#39;evil-window-up</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-h&#34;</span> <span style="color:#00a">&#39;evil-window-left</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-l&#34;</span> <span style="color:#00a">&#39;evil-window-right</span>)</code></pre></div>
<p>It&rsquo;s okay to rebind <code>C-h</code> because <code>&lt;F1&gt;</code> basically does the same thing.</p>

<p><code>swiper</code> has a nice evil integration such that <code>/</code> <code>?</code> can be replaced with <code>'swiper</code> <code>'swiper-backward</code> respectively:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">([<span style="color:#a00">remap</span> <span style="color:#a00">evil-ex-search-forward</span>] <span style="color:#00a">&#39;swiper</span>)
([<span style="color:#a00">remap</span> <span style="color:#a00">evil-ex-search-backward</span>] <span style="color:#00a">&#39;swiper-backward</span>)</code></pre></div>
<p>When <code>visual-line-mode</code> is set (especially in <code>org-mode</code>), I want Vim to behave as visual lines are normal lines (i.e. bind <code>j</code> to <code>gj</code> etc)</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-respect-visual-line-mode</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Somehow <code>n/N</code> only jump backward with swiper unless this is set:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-search-module</span> <span style="color:#00a">&#39;evil-search</span>)</code></pre></div>
<p>I use <code>C-c</code> as my <code>leader</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-create-definer</span> <span style="color:#a00">my/leader-def</span>
  <span style="color:#aaa;font-style:italic">;; :prefix my-leader</span>
  <span style="color:#0aa">:prefix</span> <span style="color:#a50">&#34;C-c&#34;</span>)</code></pre></div>
<p>This is a trick where I remap <code>SPC</code> to <code>C-c</code>, my leader key. In this way, I wrapped all the mode-defined <code>C-c</code> prefixed keybindings (they are not <span class="underline">supposed</span> to do so btw) as if they were my leader key prefixed, so that when I type <code>SPC</code>, <code>which-key</code> will show up all of them.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;SPC&#34;</span> (<span style="color:#a00">general-simulate-key</span> <span style="color:#a50">&#34;C-c&#34;</span>))</code></pre></div>
<p>Bring my two of my old vim keybindings back, which open newline above/below current line without entering insert state:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">defun</span> <span style="color:#a00">my/insert-line-below</span> ()
  <span style="color:#a50">&#34;Insert an empty line below the current line.&#34;</span>
  (<span style="color:#0aa">interactive</span>)
    (<span style="color:#0a0">end-of-line</span>)
    (<span style="color:#a00">open-line</span> <span style="color:#099">1</span>)
    (<span style="color:#a00">next-line</span>))

(<span style="color:#0aa">defun</span> <span style="color:#a00">my/insert-line-above</span> ()
  <span style="color:#a50">&#34;Insert an empty line above the current line.&#34;</span>
  (<span style="color:#0aa">interactive</span>)
    (<span style="color:#0a0">end-of-line</span> <span style="color:#099">0</span>)
    (<span style="color:#a00">open-line</span> <span style="color:#099">1</span>)
    (<span style="color:#a00">next-line</span>))</code></pre></div>
<p>I use <code>&lt;leader&gt;o</code> and <code>&lt;leader&gt;O</code> for them because they are close to <code>o</code> and <code>O</code> respectively:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
  <span style="color:#a50">&#34;o&#34;</span> &#39;(<span style="color:#a00">my/insert-line-below</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
  <span style="color:#a50">&#34;O&#34;</span> &#39;(<span style="color:#a00">my/insert-line-above</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>))</code></pre></div>
<p>Use <code>C-d</code> as frame key, mimics <code>C-w</code> as window key. <code>d</code> stands for <code>display</code>. Hope this could persuade people and myself. I choose <code>C-d</code> because <code>C-u</code> is (heavily) used by Emacs itself by default and Evil as a result did not bind <code>C-u</code> by default, so it&rsquo;s reasonable to not have Vim&rsquo;s <code>C-d</code> functionality alone.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-d&#34;</span> (<span style="color:#a00">general-simulate-key</span> <span style="color:#a50">&#34;C-x 5&#34;</span>))
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 q&#34;</span> <span style="color:#00a">&#39;delete-frame</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 o&#34;</span> <span style="color:#00a">&#39;delete-other-frames</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 C-d&#34;</span> <span style="color:#00a">&#39;other-frame</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 s&#34;</span> <span style="color:#00a">&#39;make-frame-command</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 v&#34;</span> <span style="color:#00a">&#39;make-frame-command</span>)
(<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-x 5 g d&#34;</span> <span style="color:#00a">&#39;xref-find-definitions-other-frame</span>)</code></pre></div>
<h4 id="evil-collection">evil-collection</h4>

<p><a href="https://github.com/emacs-evil/evil-collection">evil-collection</a> is a collection of helper functions / settings / etc for things native Evil does bad on.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-collection</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:custom</span>
  (<span style="color:#a00">evil-collection-setup-minibuffer</span> <span style="color:#a00">t</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;info</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;custom</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;dired</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;minibuffer</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;helm</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;flycheck</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;xref</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;magit</span>)
  (<span style="color:#a00">evil-collection-init</span> <span style="color:#00a">&#39;which-key</span>))</code></pre></div>
<blockquote>
<p><code>evil-collection</code> assumes <code>evil-want-keybinding</code> is set to <code>nil</code> and <code>evil-want-integration</code> is set to <code>t</code> before loading <code>evil</code> and <code>evil-collection</code>.</p>
</blockquote>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-want-integration</span> <span style="color:#a00">t</span>)
(<span style="color:#a00">general-setq</span> <span style="color:#a00">evil-want-keybinding</span> <span style="color:#a00">nil</span>)</code></pre></div>
<h4 id="evil-easymotion">evil-easymotion</h4>

<p><a href="https://github.com/PythonNut/evil-easymotion">evil-easymotion</a> is a Evil port of Vim&rsquo;s, well, <code>easymotion</code>, which basically works in a way that instead of numbering how many jumps needed, by prefixing motions with a leader key, we use visual hint to go to the place we want. I hadn&rsquo;t tried <code>easymotion</code> during my Vim era though, but I like it now. It also provides integration with <a href="#evil-snipe">evil-snipe</a>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-easymotion</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">evil</span> <span style="color:#a00">evil-snipe</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">evil-snipe-parent-transient-map</span>
   <span style="color:#a50">&#34;SPC&#34;</span>
   (<span style="color:#a00">evilem-create</span> <span style="color:#00a">&#39;evil-snipe-repeat</span>
                  <span style="color:#0aa">:bind</span> ((<span style="color:#a00">evil-snipe-scope</span> <span style="color:#00a">&#39;buffer</span>)
                         (<span style="color:#a00">evil-snipe-enable-highlight</span>)
                         (<span style="color:#a00">evil-snipe-enable-incremental-highlight</span>))))
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;motion</span>
    <span style="color:#a50">&#34;j&#34;</span> (<span style="color:#a00">evilem-create</span> <span style="color:#00a">&#39;next-line</span>)
    <span style="color:#a50">&#34;j&#34;</span> &#39;(<span style="color:#0aa">:ignore</span> <span style="color:#a00">t</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;k&#34;</span> (<span style="color:#a00">evilem-create</span> <span style="color:#00a">&#39;previous-line</span>)
    <span style="color:#a50">&#34;k&#34;</span> &#39;(<span style="color:#0aa">:ignore</span> <span style="color:#a00">t</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;e&#34;</span> &#39;(<span style="color:#a00">evilem-motion-forward-word-end</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;E&#34;</span> &#39;(<span style="color:#a00">evilem-motion-forward-WORD-end</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;g e&#34;</span> &#39;(<span style="color:#a00">evilem-motion-backward-word-end</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;g E&#34;</span> &#39;(<span style="color:#a00">evilem-motion-backward-WORD-end</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;w&#34;</span> &#39;(<span style="color:#a00">evilem-motion-forward-word-begin</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;W&#34;</span> &#39;(<span style="color:#a00">evilem-motion-forward-WORD-begin</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;b&#34;</span> &#39;(<span style="color:#a00">evilem-motion-backward-word-begin</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;B&#34;</span> &#39;(<span style="color:#a00">evilem-motion-backward-WORD-begin</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;n&#34;</span> &#39;(<span style="color:#a00">evilem-motion-search-next</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;N&#34;</span> &#39;(<span style="color:#a00">evilem-motion-search-previous</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)
    <span style="color:#a50">&#34;g&#34;</span> &#39;(<span style="color:#0aa">:ignore</span> <span style="color:#a00">t</span> <span style="color:#0aa">:which-key</span> <span style="color:#a00">t</span>)))</code></pre></div>
<h4 id="evil-snipe">evil-snipe</h4>

<p><a href="https://github.com/hlissner/evil-snipe">evil-snipe</a> is a Evil port of Vim&rsquo;s <code>clever-f</code> and <code>vim-sneak</code>. It currently does not support separating the scope for <code>f/F/t/T</code> from for <code>s/S</code>, which is a little bit annoying.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-snipe</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-vmap</span> <span style="color:#a00">evil-snipe-local-mode-map</span> <span style="color:#a50">&#34;z&#34;</span> <span style="color:#00a">&#39;evil-snipe-s</span>)
  (<span style="color:#a00">general-vmap</span> <span style="color:#00a">&#39;visual</span> <span style="color:#a00">evil-snipe-local-mode-map</span> <span style="color:#a50">&#34;Z&#34;</span> <span style="color:#00a">&#39;evil-snipe-S</span>)
  <span style="color:#0aa">:hook</span> (<span style="color:#a00">magit-mode</span> . <span style="color:#a00">turn-off-evil-snipe-override-mode</span>)
  <span style="color:#0aa">:custom</span>
  (<span style="color:#a00">evil-snipe-scope</span> <span style="color:#00a">&#39;visible</span>)
  (<span style="color:#a00">evil-snipe-repeat-scope</span> <span style="color:#00a">&#39;whole-visible</span>)
  (<span style="color:#a00">evil-snipe-spillover-scope</span> <span style="color:#00a">&#39;whole-buffer</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">evil-snipe-mode</span> <span style="color:#099">+1</span>)
  (<span style="color:#a00">evil-snipe-override-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<ul>
<li><p>evil-find-char-pinyin</p>

<p><a href="https://github.com/cute-jumper/evil-find-char-pinyin">evil-find-char-pinyin</a> is a helper plugin that allow <code>evil-snipe</code> to search for Chinese characters with their initial pinyins. For example, with this plugin <code>smt</code> could find 明天.</p>

<p>This plugin actually works for native Evil&rsquo;s <code>f/F/t/T</code>, but I use it mainly for its integration with <code>evil-snipe</code>&rsquo;s motions.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-find-char-pinyin</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">evil</span> <span style="color:#a00">evil-snipe</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">evil-find-char-pinyin-toggle-snipe-integration</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">evil-find-char-pinyin-mode</span> <span style="color:#099">+1</span>))</code></pre></div></li>
</ul>

<h4 id="evil-args">evil-args</h4>

<p><a href="https://github.com/wcsmith/evil-args">evil-args</a> defines a new textobj for function arguments, and some other helpful functions.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-args</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">evil-inner-text-objects-map</span> <span style="color:#a50">&#34;,&#34;</span> <span style="color:#00a">&#39;evil-inner-arg</span>)
  (<span style="color:#a00">evil-outer-text-objects-map</span> <span style="color:#a50">&#34;,&#34;</span> <span style="color:#00a">&#39;evil-outer-arg</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;],&#34;</span> <span style="color:#00a">&#39;evil-forward-arg</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;[,&#34;</span> <span style="color:#00a">&#39;evil-backward-arg</span>)
  (<span style="color:#a00">general-mmap</span> <span style="color:#a50">&#34;],&#34;</span> <span style="color:#00a">&#39;evil-forward-arg</span>)
  (<span style="color:#a00">general-mmap</span> <span style="color:#a50">&#34;[,&#34;</span> <span style="color:#00a">&#39;evil-backward-arg</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;go&#34;</span> <span style="color:#00a">&#39;evil-jump-out-args</span>))</code></pre></div>
<h4 id="evil-visualstar">evil-visualstar</h4>

<p><a href="https://github.com/bling/evil-visualstar">evil-visualstar</a> allow using <code>*</code> <code>#</code> on all visual selection.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-visualstar</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">global-evil-visualstar-mode</span>))</code></pre></div>
<h4 id="evil-matchit">evil-matchit</h4>

<p><a href="https://github.com/redguardtoo/evil-matchit">evil-matchit</a> is the port of, well, <code>matchit</code>. It also provides two text objects, namely <code>a%</code> and <code>i%</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-matchit</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">global-evil-matchit-mode</span> <span style="color:#099">1</span>))</code></pre></div>
<h4 id="evil-lion">evil-lion</h4>

<p><a href="https://github.com/edkolev/evil-lion">evil-lion</a> defines an alignment operator.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-lion</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;ga&#34;</span> <span style="color:#00a">&#39;evil-lion-left</span>)
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;gA&#34;</span> <span style="color:#00a">&#39;evil-lion-right</span>))</code></pre></div>
<h4 id="evil-replace-with-register">evil-replace-with-register</h4>

<p><a href="https://github.com/Dewdrops/evil-ReplaceWithRegister">evil-replace-with-register</a> defines a <code>rplace</code> operator.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-replace-with-register</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;_&#34;</span> <span style="color:#00a">&#39;evil-replace-with-register</span>)
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;_&#34;</span> <span style="color:#00a">&#39;evil-replace-with-register</span>))</code></pre></div>
<h4 id="evil-numbers">evil-numbers</h4>

<p><a href="https://github.com/cofi/evil-numbers">evil-numbers</a> takes <code>c-a</code> back (and can be mapped to different states!).</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-numbers</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;C-a&#34;</span> <span style="color:#00a">&#39;evil-numbers/inc-at-pt</span>)
  (<span style="color:#a00">general-nvmap</span> <span style="color:#a50">&#34;C-S-a&#34;</span> <span style="color:#00a">&#39;evil-numbers/dec-at-pt</span>))</code></pre></div>
<h4 id="evil-surround">evil-surround</h4>

<p><a href="https://github.com/emacs-evil/evil-surround">evil-surround</a> defines operators that change/add/delete delimiters around a text object.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-surround</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">global-evil-surround-mode</span> <span style="color:#099">1</span>))</code></pre></div>
<h4 id="evil-string-inflection">evil-string-inflection</h4>

<p><a href="https://github.com/ninrod/evil-string-inflection">evil-string-inflection</a> provides an operator that toggle a textobj between <code>PascalCase</code>, <code>camalcase</code>, <code>dash-case</code>, <code>snake_case</code> and  <code>SYMBOL_CASE</code>. Unfortunately it does not provide a way to disable the default bindings, so I have to unbind it manually.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-string-inflection</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-unbind</span> <span style="color:#00a">&#39;normal</span> <span style="color:#a50">&#34;g~&#34;</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;g~&#34;</span> <span style="color:#00a">&#39;evil-invert-case</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;g-&#34;</span> <span style="color:#00a">&#39;evil-operator-string-inflection</span>))</code></pre></div>
<h4 id="evil-commentary">evil-commentary</h4>

<p><a href="https://github.com/linktohack/evil-commentary">evil-commentary</a> defines operators for commenting.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-commentary</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">evil-commentary-mode</span>))</code></pre></div>
<h4 id="evil-textobj-line">evil-textobj-line</h4>

<p><a href="https://github.com/syohex/evil-textobj-line">evil-textobj-line</a> defines text objects for a single line.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-textobj-line</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>)</code></pre></div>
<h4 id="evil-textobj-indent">evil-textobj-indent</h4>

<p><a href="https://github.com/TheBB/evil-indent-plus">evil-indent-plus</a> defines text objects for block of code that has same/higher indentation.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-indent-plus</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">evil</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">evil-inner-text-objects-map</span> <span style="color:#a50">&#34;i&#34;</span> <span style="color:#00a">&#39;evil-indent-plus-i-indent</span>)
  (<span style="color:#a00">evil-outer-text-objects-map</span> <span style="color:#a50">&#34;i&#34;</span> <span style="color:#00a">&#39;evil-indent-plus-a-indent</span>)
  (<span style="color:#a00">evil-inner-text-objects-map</span> <span style="color:#a50">&#34;I&#34;</span> <span style="color:#00a">&#39;evil-indent-plus-i-indent-up</span>)
  (<span style="color:#a00">evil-outer-text-objects-map</span> <span style="color:#a50">&#34;I&#34;</span> <span style="color:#00a">&#39;evil-indent-plus-a-indent-up</span>)
  (<span style="color:#a00">evil-inner-text-objects-map</span> <span style="color:#a50">&#34;J&#34;</span> <span style="color:#00a">&#39;evil-indent-plus-i-indent-up-down</span>)
  (<span style="color:#a00">evil-outer-text-objects-map</span> <span style="color:#a50">&#34;J&#34;</span> <span style="color:#00a">&#39;evil-indent-plus-a-indent-up-down</span>))</code></pre></div>
<h2 id="spell-checking">Spell Checking</h2>

<p>Emacs comes with its own spell checking mode (<code>ispell.el</code>)&hellip;</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">ispell</span>
  <span style="color:#0aa">:if</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;gnu/linux</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">ispell-program-name</span> <span style="color:#a50">&#34;aspell&#34;</span>))</code></pre></div>
<p>&hellip; and its own on-the-fly spell checker(<code>flyspell</code>, which uses <code>ispell.el</code> as the backend).</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">flyspell</span>
  <span style="color:#0aa">:if</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;gnu/linux</span>)
  <span style="color:#0aa">:hook</span>
  (<span style="color:#a00">text-mode</span> . <span style="color:#a00">flyspell-mode</span>)
  (<span style="color:#a00">prog-mode</span> . <span style="color:#a00">flyspell-prog-mode</span>))</code></pre></div>
<h2 id="ui-enhance">UI Enhance</h2>

<p><a href="https://www.reddit.com/user/GummyKibble/">u/GummyKibble</a> has a concise and wise <a href="https://www.reddit.com/r/emacs/comments/7vcrwo/helm%5Fvs%5Fivy%5Fwhat%5Fare%5Fthe%5Fdifferences%5Fwhat%5Fare%5Fthe/dtrc7v5/">comment</a> on the comparison between Helm and Ivy:</p>

<blockquote>
<p>&hellip;[T]o me, Helm feels like a replacement for the Emacs UI I’m used to, while Ivy feels like a refinement of it.</p>
</blockquote>

<p>For me Helm fits me better because:</p>

<ol>
<li>I&rsquo;m new to Emacs anyway, there is no such Emacs UI that I&rsquo;m used to.</li>
<li>During my Vim era I use Shougo&rsquo;s wonderful plugins Unite/Denite, which mimics the logic of Helm, so switching to Emacs with Helm mostly does not require switching my mind model for how to find things.</li>
<li>Ivy is new compared with Helm, so it does not have as many add-ons available as Helm.</li>
</ol>

<h3 id="helm">Helm</h3>

<p><a href="https://github.com/emacs-helm/helm">Helm</a> is a generic incremental completion and selection narrowing framework for Emacs, as what Denite is for [Neo]vim. I currently does not set Helm to be auto-installed, so just install it with <code>M-x package-install RET helm RET</code>.</p>

<p>References:</p>

<ul>
<li><a href="https://github.com/thierryvolpiatto/emacs-tv-config/blob/master/init-helm.el">thierryvolpiatto&rsquo;s helm config</a>.</li>
<li><a href="https://tuhdo.github.io/helm-intro.html">A Package in a league of its own: <code>Helm</code></a> by Tu Do (tuhdo)</li>
</ul>

<!--listend-->
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-config</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  ([<span style="color:#a00">remap</span> <span style="color:#a00">find-file</span>]                <span style="color:#00a">&#39;helm-find-files</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">occur</span>]                    <span style="color:#00a">&#39;helm-occur</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">list-buffers</span>]             <span style="color:#00a">&#39;helm-buffers-list</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">dabbrev-expand</span>]           <span style="color:#00a">&#39;helm-dabbrev</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">execute-extended-command</span>] <span style="color:#00a">&#39;helm-M-x</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">imenu</span>]                    <span style="color:#00a">&#39;helm-imenu</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;gO&#34;</span> <span style="color:#00a">&#39;helm-semantic-or-imenu</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">helm-command-prefix-key</span> <span style="color:#a50">&#34;C-c h&#34;</span>)
  (<span style="color:#0aa">unless</span> (<span style="color:#0a0">boundp</span> <span style="color:#00a">&#39;completion-in-region-function</span>)
    (<span style="color:#a00">general-def</span> <span style="color:#a00">lisp-interaction-mode-map</span> [<span style="color:#a00">remap</span> <span style="color:#a00">completion-at-point</span>] <span style="color:#00a">&#39;helm-lisp-completion-at-point</span>)
    (<span style="color:#a00">general-def</span> <span style="color:#a00">emacs-lisp-mode-map</span>       [<span style="color:#a00">remap</span> <span style="color:#a00">completion-at-point</span>] <span style="color:#00a">&#39;helm-lisp-completion-at-point</span>)))</code></pre></div>
<p>Turn on helm</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-mode</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">helm-mode</span> <span style="color:#099">1</span>))</code></pre></div>
<h4 id="swiper-helm">swiper-helm</h4>

<p><a href="https://github.com/abo-abo/swiper-helm">swiper-helm</a> is a Helm version of <a href="#swiper">swiper</a>. That is, it use Helm as the backend instead of Ivy.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">swiper-helm</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">helm-config</span> <span style="color:#a00">swiper</span>)
  <span style="color:#0aa">:general</span> (<span style="color:#a50">&#34;C-s&#34;</span> <span style="color:#00a">&#39;swiper-helm</span>))</code></pre></div>
<h4 id="helm-gtags">helm-gtags</h4>

<p><a href="https://github.com/syohex/emacs-helm-gtags">emacs-helm-gtags</a> is a helm interface for <code>GNU GLOBAL</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-gtags</span>
  <span style="color:#0aa">:disabled</span>
  <span style="color:#0aa">:hook</span>
  ((<span style="color:#a00">c-mode</span> <span style="color:#a00">c++-mode</span> <span style="color:#a00">asm-mode</span>) . <span style="color:#a00">helm-gtags-mode</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-]&#34;</span> <span style="color:#00a">&#39;helm-gtags-dwim</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;gd&#34;</span> <span style="color:#00a">&#39;helm-gtags-dwim</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;gR&#34;</span> <span style="color:#00a">&#39;helm-gtags-select</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;gr&#34;</span> <span style="color:#00a">&#39;helm-gtags-tags-in-this-function</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-t&#34;</span> <span style="color:#00a">&#39;helm-gtags-previous-history</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-S-t&#34;</span> <span style="color:#00a">&#39;helm-gtags-next-history</span>))</code></pre></div>
<h4 id="helm-and-ag-rg">helm and ag/rg</h4>

<p><code>helm-do-grep-ag</code> supports using <code>ag</code> and <code>rg</code> by itself, so technically <code>helm-rg</code> and <code>helm-ag</code> are not necessary.
But, <a href="https://github.com/cosmicexplorer/helm-rg">helm-rg</a> is used by <code>helm-projectile</code> for some reason (and there seems no way to delegate it to use <code>helm-do-grep-ag</code>, thus</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-rg</span>
  <span style="color:#0aa">:if</span> (<span style="color:#a00">executable-find</span> <span style="color:#a50">&#34;rg&#34;</span>)
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">progn</span>
    (<span style="color:#a00">general-setq</span> <span style="color:#a00">helm-grep-ag-command</span> <span style="color:#a50">&#34;rg --color=always --colors &#39;match:fg:black&#39; --colors &#39;match:bg:yellow&#39; --smart-case --no-heading --line-number %s %s %s&#34;</span>)
    (<span style="color:#a00">general-setq</span> <span style="color:#a00">helm-grep-ag-pipe-cmd-switches</span> &#39;(<span style="color:#a50">&#34;--colors &#39;match:fg:black&#39;&#34;</span> <span style="color:#a50">&#34;--colors &#39;match:bg:yellow&#39;&#34;</span>))))</code></pre></div>
<p>and also fallback to <a href="https://github.com/syohex/emacs-helm-ag">helm-ag</a> if <code>rg</code> is not available:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-ag</span>
  <span style="color:#0aa">:if</span> (<span style="color:#0aa">and</span> (<span style="color:#a00">executable-find</span> <span style="color:#a50">&#34;ag&#34;</span>) (<span style="color:#a00">not</span> (<span style="color:#a00">executable-find</span> <span style="color:#a50">&#34;rg&#34;</span>)))
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">progn</span>
    (<span style="color:#a00">general-setq</span> <span style="color:#a00">helm-grep-ag-command</span> <span style="color:#a50">&#34;ag --line-numbers -S --hidden --color --color-match &#39;31;43&#39; --nogroup %s %s %s&#34;</span>)
    (<span style="color:#a00">general-setq</span> <span style="color:#a00">helm-grep-ag-pipe-cmd-switches</span> &#39;(<span style="color:#a50">&#34;--color-match &#39;31;43&#39;&#34;</span>))))</code></pre></div>
<h3 id="ivy">Ivy</h3>

<p><a href="https://github.com/abo-abo/swiper#ivy">ivy</a> is yet another generic incremental completion for Emacs.</p>

<p>I don&rsquo;t use heavily on ivy anymore, but I still have it because its the dependency of swiper:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">ivy</span>
  <span style="color:#0aa">:custom</span>
  (<span style="color:#a00">ivy-count-format</span> <span style="color:#a50">&#34;(%d/%d) &#34;</span> <span style="color:#a50">&#34;the style for displaying current candidate count&#34;</span>)
  <span style="color:#aaa;font-style:italic">;; (enable-recursive-minibuffers t &#34;allow minibuffer cmd in minibuffer&#34;)</span>
  )

<span style="color:#aaa;font-style:italic">;; (use-package counsel</span>
<span style="color:#aaa;font-style:italic">;;   :ensure t</span>
<span style="color:#aaa;font-style:italic">;;   :requires ivy</span>
<span style="color:#aaa;font-style:italic">;;   )</span>

<span style="color:#aaa;font-style:italic">;; (use-package ivy-rich</span>
<span style="color:#aaa;font-style:italic">;;   :ensure t</span>
<span style="color:#aaa;font-style:italic">;;   :requires ivy</span>
<span style="color:#aaa;font-style:italic">;;   :init</span>
<span style="color:#aaa;font-style:italic">;;   (setcdr (assq t ivy-format-functions-alist) #&#39;ivy-format-function-line)</span>
<span style="color:#aaa;font-style:italic">;;   :config</span>
<span style="color:#aaa;font-style:italic">;;   (ivy-rich-mode 1))</span></code></pre></div>
<h4 id="swiper">swiper</h4>

<p><a href="https://github.com/swiper#swiper">swiper</a> is an alternative to Emacs&rsquo; builtin <a href="emacs#Basic Isearch">isearch</a>. I use this over other alternatives because it has better integration by default with Evil&rsquo;s (or Vim&rsquo;s) search/substitution system.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">swiper</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">ivy</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-imap</span> <span style="color:#a00">ivy-minibuffer-map</span> <span style="color:#a50">&#34;C-p&#34;</span> <span style="color:#00a">&#39;ivy-previous-line</span>)
  (<span style="color:#a00">general-imap</span> <span style="color:#a00">ivy-minibuffer-map</span> <span style="color:#a50">&#34;C-n&#34;</span> <span style="color:#00a">&#39;ivy-next-line</span>)
  <span style="color:#0aa">:commands</span> (<span style="color:#a00">swiper</span> <span style="color:#a00">swiper-backward</span>))</code></pre></div>
<h3 id="highlight-indent-guides">highlight-indent-guides</h3>

<p><a href="https://github.com/DarthFennec/highlight-indent-guides">highlight-indent-guides</a> shows indent guides (with <code>font lock</code>)!</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">highlight-indent-guides</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:hook</span> (<span style="color:#a00">prog-mode</span> . <span style="color:#a00">highlight-indent-guides-mode</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">highlight-indent-guides-responsive</span> <span style="color:#00a">&#39;top</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">highlight-indent-guides-method</span> <span style="color:#00a">&#39;character</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">highlight-indent-guides-character</span> <span style="color:#a50">?│</span>))</code></pre></div>
<h3 id="undo-tree">Undo-tree</h3>

<p><a href="https://www.emacswiki.org/emacs/UndoTree">undo-tree</a> provides a visualization for the undo history. It is a prereq for <a href="#evil">Evil</a>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">undo-tree</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">undo-tree-visualizer-timestamps</span> <span style="color:#a00">nil</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">undo-tree-visualizer-lazy-drawing</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">undo-tree-visualizer-relative-timestamps</span> <span style="color:#a00">nil</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-mmap</span> <span style="color:#a00">undo-tree-visualizer-mode-map</span>
    <span style="color:#a50">&#34;t&#34;</span> <span style="color:#00a">&#39;undo-tree-visualizer-toggle-timestamps</span>)
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
    <span style="color:#a50">&#34;u&#34;</span> <span style="color:#00a">&#39;undo-tree-visualize</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">global-undo-tree-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<h3 id="ggtags">ggtags</h3>

<p><a href="https://www.gnu.org/software/global/">GNU GLOBAL</a> is a source code tagging system that recognize references and that can also use <code>ctags</code> as a backend.
Using <code>universal ctags</code>, it would be like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">gtags --gtagslabel=new-ctags</code></pre></div>
<p><a href="https://github.com/leoliu/ggtags">ggtags</a> is an Emacs interface to GLOBAL. Different from <code>helm-gtags</code>, it integrates into Emacs&rsquo; own ecosystem like <code>xref</code> and <code>eldoc</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">ggtags</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:hook</span>
  ((<span style="color:#a00">c-mode</span> <span style="color:#a00">c++-mode</span> <span style="color:#a00">asm-mode</span>) . <span style="color:#a00">ggtags-mode</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;gs&#34;</span> <span style="color:#00a">&#39;ggtags-find-other-symbol</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">ggtags-extra-args</span> (<span style="color:#0a0">list</span> <span style="color:#a50">&#34;--gtagslabel=new-ctags&#34;</span>)))</code></pre></div>
<h3 id="treemacs">Treemacs</h3>

<p><a href="https://github.com/Alexander-Miller/treemacs">treemacs</a> is a tree layout explorer for files and many things else (tags, for example). It provides integration into many other popular packages in the ecosystem.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">treemacs</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:defer</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
    <span style="color:#a50">&#34;t r&#34;</span> <span style="color:#00a">&#39;treemacs</span>
    <span style="color:#a50">&#34;t b&#34;</span> <span style="color:#00a">&#39;treemacs-bookmark</span>
    <span style="color:#a50">&#34;t f&#34;</span> <span style="color:#00a">&#39;treemacs-find-file</span>
    <span style="color:#a50">&#34;t t&#34;</span> <span style="color:#00a">&#39;treemacs-find-tag</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">treemacs-persist-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/treemacs-persist&#34;</span> (<span style="color:#a00">xdg-data-home</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">treemacs-last-error-persist-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/treemacs-persist-at-last-error&#34;</span> (<span style="color:#a00">xdg-cache-home</span>)))
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">treemacs-filewatch-mode</span> <span style="color:#a00">t</span>)
  (<span style="color:#0aa">pcase</span> (<span style="color:#0a0">cons</span> (<span style="color:#a00">not</span> (<span style="color:#0a0">null</span> (<span style="color:#a00">executable-find</span> <span style="color:#a50">&#34;git&#34;</span>)))
               (<span style="color:#a00">not</span> (<span style="color:#0a0">null</span> <span style="color:#a00">treemacs-python-executable</span>)))
    (`(<span style="color:#a00">t</span> . <span style="color:#a00">t</span>)
     (<span style="color:#a00">treemacs-git-mode</span> <span style="color:#00a">&#39;deferred</span>))
    (`(<span style="color:#a00">t</span> . <span style="color:#a00">_</span>)
     (<span style="color:#a00">treemacs-git-mode</span> <span style="color:#00a">&#39;simple</span>))))</code></pre></div>
<p>Its evil integration:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">treemacs-evil</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">treemacs</span> <span style="color:#a00">evil</span>))</code></pre></div>
<h3 id="telephone-line">Telephone-line</h3>

<p>Reference:</p>

<ol>
<li><a href="https://github.com/dbordak/telephone-line/blob/master/configuration.org">Configuration.org</a></li>
<li><a href="https://github.com/dbordak/telephone-line/blob/master/examples.org">examples.org</a></li>
<li><a href="https://github.com/dbordak/telephone-line/blob/master/telephone-line-segments.el">telephone-line-segments.org</a></li>
</ol>

<!--listend-->
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">telephone-line</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">telephone-line-lhs</span>
                &#39;((<span style="color:#a00">evil</span> . (<span style="color:#a00">telephone-line-evil-tag-segment</span>))
                  (<span style="color:#a00">accent</span> . (<span style="color:#a00">telephone-line-vc-segment</span>
                             <span style="color:#a00">telephone-line-erc-modified-channels-segment</span>
                             <span style="color:#a00">telephone-line-process-segment</span>))
                  (<span style="color:#a00">nil</span> . (<span style="color:#a00">telephone-line-projectile-segment</span>
                          <span style="color:#a00">telephone-line-buffer-segment</span>))))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">telephone-line-rhs</span>
                &#39;((<span style="color:#a00">nil</span> . (<span style="color:#a00">telephone-line-flycheck-segment</span>
                          <span style="color:#a00">telephone-line-misc-info-segment</span>))
                  (<span style="color:#a00">accent</span> . (<span style="color:#a00">telephone-line-major-mode-segment</span>))
                  (<span style="color:#a00">evil</span> (<span style="color:#a00">telephone-line-airline-position-segment</span>))))
  <span style="color:#0aa">:custom-face</span>
  (<span style="color:#a00">telephone-line-evil-normal</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#d5c4a1&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#665c54&#34;</span>))))
  (<span style="color:#a00">telephone-line-evil-insert</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#83a598&#34;</span>))))
  (<span style="color:#a00">telephone-line-evil-replace</span>     ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#8ec07c&#34;</span>))))
  (<span style="color:#a00">telephone-line-evil-visual</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#fe8019&#34;</span>))))
  (<span style="color:#a00">telephone-line-evil-operator</span>    ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#fabd2f&#34;</span>))))
  (<span style="color:#a00">telephone-line-evil-emacs</span>       ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#d3869b&#34;</span>))))
  (<span style="color:#a00">telephone-line-evil-motion</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">telephone-line-evil</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#b8bb26&#34;</span>))))
  (<span style="color:#a00">telephone-line-accent-inactive</span>  ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">mode-line-inactive</span>  <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#ebdbb2&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#282828&#34;</span>))))
  (<span style="color:#a00">telephone-line-accent-active</span>    ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">mode-line</span>           <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#ebdbb2&#34;</span> <span style="color:#0aa">:background</span> <span style="color:#a50">&#34;#282828&#34;</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
  (<span style="color:#a00">telephone-line-projectile</span>       ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">mode-line</span>           <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#83a598&#34;</span> <span style="color:#0aa">:weight</span>     <span style="color:#a00">bold</span>))))
  (<span style="color:#a00">telephone-line-unimportant</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">mode-line</span>           <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#7c6f64&#34;</span>))))
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">telephone-line-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<h3 id="with-editor">with-editor</h3>

<p><a href="https://github.com/magit/with-editor">with-editor</a> ensure child processes of Emacs know how to call Emacs.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">with-editor</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  ([<span style="color:#a00">remap</span> <span style="color:#a00">async-shell-command</span>] <span style="color:#00a">&#39;with-editor-async-shell-command</span>)
  ([<span style="color:#a00">remap</span> <span style="color:#a00">shell-command</span>] <span style="color:#00a">&#39;with-editor-shell-command</span>)
  <span style="color:#0aa">:hook</span>
  (<span style="color:#a00">shell-mode</span> . <span style="color:#a00">with-editor-export-editor</span>)
  (<span style="color:#a00">term-exec</span>  . <span style="color:#a00">with-editor-export-editor</span>)
  (<span style="color:#a00">eshell-mode</span> . <span style="color:#a00">with-editor-export-editor</span>))</code></pre></div>
<h2 id="completion">Completion</h2>

<p>By completion I mean general text/code autocompletion, as Vim&rsquo;s <code>deoplete</code>.</p>

<h3 id="company">Company</h3>

<p><a href="https://company-mode.github.io/">company</a> seems the most widely-used text completion framework among the Emacs ecosystem.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">company</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">company-auto-complete</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">company-auto-complete-chars</span> &#39;(<span style="color:#099">32</span> <span style="color:#099">40</span> <span style="color:#099">41</span> <span style="color:#099">46</span>))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">company-require-match</span> <span style="color:#a00">nil</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">company-idle-delay</span> <span style="color:#099">0.6</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-unbind</span> <span style="color:#a00">company-active-map</span>
    <span style="color:#a50">&#34;M-n&#34;</span>
    <span style="color:#a50">&#34;M-p&#34;</span>)
  (<span style="color:#a00">company-active-map</span> <span style="color:#a50">&#34;C-n&#34;</span> <span style="color:#00a">&#39;company-select-next</span>
                      <span style="color:#a50">&#34;C-p&#34;</span> <span style="color:#00a">&#39;company-select-previous</span>
                      <span style="color:#a50">&#34;C-h&#34;</span> <span style="color:#00a">&#39;company-quickhelp-manual-begin</span>
                      <span style="color:#a50">&#34;ESC&#34;</span> <span style="color:#00a">&#39;company-abort</span>)
  (<span style="color:#a00">general-imap</span>
    <span style="color:#a50">&#34;C-n&#34;</span> <span style="color:#00a">&#39;company-select-next</span>
    <span style="color:#a50">&#34;C-p&#34;</span> <span style="color:#00a">&#39;company-select-previous</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">global-company-mode</span>))</code></pre></div>
<h3 id="company-quickhelp">Company-quickhelp</h3>

<p><a href="https://github.com/expez/company-quickhelp">company-quickhelp</a> is an add-on for <code>company</code> that make use of <code>popup-el</code>, which will show doc for current selected entry in a popup view.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">company-quickhelp</span>
  <span style="color:#0aa">:unless</span> (<span style="color:#a00">display-graphic-p</span>)
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">company</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">company-quickhelp-delay</span> <span style="color:#a00">nil</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">company-quickhelp-mode</span>))</code></pre></div>
<h3 id="company-box">Company-box</h3>

<p><a href="https://github.com/sebastiencs/company-box">company-box</a> is a frontend for <code>company</code> that does not use popup (thus it doesn&rsquo;t screw up with different font size) and show icons for each candidate.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">company-box</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">company</span>
  <span style="color:#0aa">:hook</span>
  (<span style="color:#a00">company-mode</span> . (<span style="color:#0aa">lambda</span> () (<span style="color:#0aa">when</span> (<span style="color:#a00">display-graphic-p</span>) (<span style="color:#a00">company-box-mode</span>)))))</code></pre></div>
<h2 id="templates">Templates</h2>

<p>Templates are always good time savers.
Reference:
<a href="http://www.howardism.org/Technical/Emacs/templates-tutorial.html">Having Emacs Type for You</a> by Howard Abrams</p>

<h3 id="yasnippet">Yasnippet</h3>

<p><a href="https://github.com/joaotavora/yasnippet">yasnippet</a> is a template system for Emacs.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">yasnippet</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-unbind</span> <span style="color:#a00">yas-minor-mode-map</span>
    <span style="color:#a50">&#34;C-c &amp; C-n&#34;</span>
    <span style="color:#a50">&#34;C-c &amp; C-s&#34;</span>
    <span style="color:#a50">&#34;C-c &amp; C-v&#34;</span>
    <span style="color:#a50">&#34;C-c &amp;&#34;</span>
    <span style="color:#a50">&#34;C-c&#34;</span>)
  <span style="color:#aaa;font-style:italic">;; (my/leader-def</span>
  <span style="color:#aaa;font-style:italic">;;   :states &#39;(normal visual insert)</span>
  <span style="color:#aaa;font-style:italic">;;   :keymaps &#39;yas-minor-mode-map</span>
  <span style="color:#aaa;font-style:italic">;;   &#34;y n&#34; &#39;yas-new-snippet</span>
  <span style="color:#aaa;font-style:italic">;;   &#34;y s&#34; &#39;yas-insert-snippet</span>
  <span style="color:#aaa;font-style:italic">;;   &#34;y v&#34; &#39;yas-visit-snippet-file)</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">yas-global-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<p>I don&rsquo;t want the default <code>yas-minor-mode-map</code>&rsquo;s <code>C-c &amp;</code> bindings because they conflict with <code>org-marking-goto</code>. Thus I unbind &amp; rebind them into <code>&lt;leader&gt; y</code>.
NOTE: I&rsquo;m using <code>yankpad</code> now instead of directly using <code>yasnippet</code>, so I commented these bindings out.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-unbind</span> <span style="color:#a00">yas-minor-mode-map</span>
  <span style="color:#a50">&#34;C-c &amp; C-n&#34;</span>
  <span style="color:#a50">&#34;C-c &amp; C-s&#34;</span>
  <span style="color:#a50">&#34;C-c &amp; C-v&#34;</span>
  <span style="color:#a50">&#34;C-c &amp;&#34;</span>
  <span style="color:#a50">&#34;C-c&#34;</span>)
<span style="color:#aaa;font-style:italic">;; (my/leader-def</span>
<span style="color:#aaa;font-style:italic">;;   :states &#39;(normal visual insert)</span>
<span style="color:#aaa;font-style:italic">;;   :keymaps &#39;yas-minor-mode-map</span>
<span style="color:#aaa;font-style:italic">;;   &#34;y n&#34; &#39;yas-new-snippet</span>
<span style="color:#aaa;font-style:italic">;;   &#34;y s&#34; &#39;yas-insert-snippet</span>
<span style="color:#aaa;font-style:italic">;;   &#34;y v&#34; &#39;yas-visit-snippet-file)</span></code></pre></div>
<h3 id="yankpad">Yankpad</h3>

<p><a href="https://github.com/Kungsgeten/yankpad">yankpad</a> is a cool package that expand snippets written in <a href="#org-mode">org mode</a> and optionally use <a href="#yasnippet">yasnippet</a> as the backend.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">yankpad</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">yankpad-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;yankpad.org&#34;</span> <span style="color:#a00">user-emacs-directory</span>))
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">my/leader-def</span> &#39;(<span style="color:#a00">normal</span> <span style="color:#a00">visual</span>)
    <span style="color:#a50">&#34;y&#34;</span> <span style="color:#00a">&#39;yankpad-insert</span>)
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;insert</span>
    <span style="color:#a50">&#34;y&#34;</span> <span style="color:#00a">&#39;yankpad-expand</span>))</code></pre></div>
<h2 id="code">Code</h2>

<h3 id="xref">xref</h3>

<p><code>xref</code> is an Emacs built-in cross referencing browsing package.</p>

<blockquote>
<p>This file provides a somewhat generic infrastructure for cross referencing commands, in particular &ldquo;find-definition&rdquo;.</p>
</blockquote>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">xref</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">xref-prompt-for-identifier</span> <span style="color:#a00">nil</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;gr&#34;</span> <span style="color:#00a">&#39;xref-find-references</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-w ]&#34;</span> <span style="color:#00a">&#39;xref-find-definitions-other-window</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-w C-]&#34;</span> <span style="color:#00a">&#39;xref-find-definitions-other-window</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-w g C-]&#34;</span> <span style="color:#00a">&#39;xref-find-definitions-other-window</span>)
  (<span style="color:#a00">general-nmap</span> <span style="color:#a50">&#34;C-w g ]&#34;</span> <span style="color:#00a">&#39;xref-find-definitions-other-window</span>))</code></pre></div>
<h3 id="projectile">Projectile</h3>

<blockquote>
<p><a href="https://github.com/bbatsov/projectile">projectile</a> is a project interaction library for Emacs.</p>
</blockquote>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">projectile</span>
  <span style="color:#0aa">:defer</span> <span style="color:#099">10</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:commands</span> (<span style="color:#a00">projectile-mode</span> <span style="color:#a00">projectile-command-map</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
    <span style="color:#a50">&#34;p&#34;</span> <span style="color:#00a">&#39;projectile-command-map</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">projectile-cache-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/projectile.cache&#34;</span> (<span style="color:#a00">xdg-cache-home</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">projectile-known-projects-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/projectile-bookmarks.eld&#34;</span> (<span style="color:#a00">xdg-data-home</span>)))
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">projectile-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<p>Replace the wierd default interface with <code>helm</code> by using <a href="https://github.com/bbatsov/helm-projectile">helm-projectile</a></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-projectile</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">projectile</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">helm-projectile-on</span>))</code></pre></div>
<p>Its <code>treemacs</code> integration that provides a helper function to add <code>projectile</code> projects to <code>treemacs</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">treemacs-projectile</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">treemacs</span> <span style="color:#a00">projectile</span>)</code></pre></div>
<h3 id="flycheck">flycheck</h3>

<p><a href="https://github.com/flycheck/flycheck">flycheck</a> is a async syntax checking framework for Emacs, as <code>ALE</code> for Vim.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">flycheck</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">global-flycheck-mode</span> <span style="color:#099">+1</span>))</code></pre></div>
<h3 id="lsp-mode">lsp-mode</h3>

<p><a href="https://github.com/emacs-lsp/lsp-mode">lsp-mode</a> is Emacs&rsquo; client/library for the Language Server Protocol. It integrates with Emacs&rsquo; ecosystem heavily.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">lsp-mode</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:hook</span>
  ((<span style="color:#a00">python-mode</span> <span style="color:#a00">rust-mode</span>) . <span style="color:#a00">lsp-deferred</span>)
  <span style="color:#0aa">:commands</span> (<span style="color:#a00">lsp</span> <span style="color:#a00">lsp-deferred</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">lsp-prefer-flymake</span> <span style="color:#a00">nil</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">lsp-session-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/lsp-session-v1&#34;</span> (<span style="color:#a00">xdg-cache-home</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">lsp-keep-workspace-alive</span> <span style="color:#a00">nil</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">lsp-auto-guess-root</span> <span style="color:#a00">t</span>))</code></pre></div>
<h4 id="lsp-ui">lsp-ui</h4>

<p><a href="https://github.com/emacs-lsp/lsp-ui">lsp-ui</a> is the high-level UI module for <code>lsp-mode</code>.</p>

<p>Based on <a href="https://github.com/emacs-lsp/lsp-ui/pull/208">this</a> PR, there is no need to set up anything because <code>lsp-mode</code> will load <code>lsp-ui</code> itself.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">lsp-ui</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:commands</span> <span style="color:#a00">lsp-ui-mode</span>)</code></pre></div>
<h4 id="company-lsp">company-lsp</h4>

<p><a href="https://github.com/tigersoldier/company-lsp">company-lsp</a>, as the name suggests, is the <code>company</code> backend for <code>lsp-mode</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">company-lsp</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">lsp-mode</span> <span style="color:#a00">company</span>)
  <span style="color:#0aa">:config</span>
  (<span style="color:#0aa">push</span> <span style="color:#00a">&#39;company-lsp</span> <span style="color:#a00">company-backends</span>))</code></pre></div>
<h4 id="lsp-treemacs">lsp-treemacs</h4>

<p><a href="https://github.com/emacs-lsp/lsp-treemacs">lsp-treemacs</a> display <code>lsp-mode</code> linting and symbols in a tree structure, using <code>treemacs</code> as the frontend.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">lsp-treemacs</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">lsp-mode</span> <span style="color:#a00">treemacs</span>))</code></pre></div>
<h4 id="helm-lsp">helm-lsp</h4>

<p><a href="https://github.com/emacs-lsp/helm-lsp">helm-lsp</a> provides two helper <code>helm</code> commands for <code>lsp-mode</code> that list workspace symbols.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">helm-lsp</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">lsp-mode</span>)</code></pre></div>
<h2 id="org-mode">Org Mode</h2>

<p>From its website</p>

<blockquote>
<p>Org mode is for keeping notes, maintaining TODO lists, planning projects, and authoring documents with a fast and effective plain-text system.</p>
</blockquote>

<p>this is only a facial overall summary of what <a href="https://orgmode.org">org-mode</a> is usually used for. It is so powerful that It is one of the reasons I switched from Neovim to Emacs.</p>

<p>Emacs shipped with a relatively old version of <code>org-mode</code>, but many MELPA packages depends on the nightly version, thus I&rsquo;ll usually get the newest one from its own archive via <code>package-install</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">org</span>
  <span style="color:#0aa">:pin</span> <span style="color:#a00">org</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:demand</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:hook</span>
  (<span style="color:#a00">org-mode</span> . <span style="color:#a00">visual-line-mode</span>)
  (<span style="color:#a00">org-mode</span> . <span style="color:#a00">variable-pitch-mode</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-startup-indented</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-enforce-todo-dependencies</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-log-done</span> <span style="color:#00a">&#39;note</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-reverse-note-order</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-todo-keywords</span>
                &#39;((<span style="color:#a00">sequence</span> <span style="color:#a50">&#34;TODO(t!)&#34;</span> <span style="color:#a50">&#34;ENGAGE(e!)&#34;</span> <span style="color:#a50">&#34;WAIT(w@/@)&#34;</span> <span style="color:#a50">&#34;|&#34;</span> <span style="color:#a50">&#34;DONE(d@)&#34;</span>)
                  (<span style="color:#a50">&#34;|&#34;</span> <span style="color:#a50">&#34;CANCELED(c@)&#34;</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-log-into-drawer</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-log-refile</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-directory</span> <span style="color:#a50">&#34;~/documents/tracking&#34;</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-agenda-files</span> (<span style="color:#0aa">quote</span> (<span style="color:#a50">&#34;~/documents/tracking&#34;</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-default-notes-file</span> <span style="color:#a50">&#34;~/documents/tracking/inbox.org&#34;</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-archive-location</span> <span style="color:#a50">&#34;~/documents/archive/%s_archive::* Archived&#34;</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-refile-targets</span> (<span style="color:#0aa">quote</span> ((<span style="color:#a50">&#34;maybe.org&#34;</span> <span style="color:#0aa">:maxlevel</span> . <span style="color:#099">2</span>)
                                           (<span style="color:#a50">&#34;tasks.org&#34;</span> <span style="color:#0aa">:level</span> . <span style="color:#099">1</span>))))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-capture-templates</span>
                &#39;((<span style="color:#a50">&#34;t&#34;</span> <span style="color:#a50">&#34;Todo&#34;</span> <span style="color:#a00">entry</span> (<span style="color:#a00">file+headline</span> <span style="color:#a50">&#34;inbox.org&#34;</span> <span style="color:#a50">&#34;Tasks&#34;</span>)
                   <span style="color:#a50">&#34;* TODO %?\n:LOGBOOK:\n- with context %a at %U\n:END:\n&#34;</span>)
                  (<span style="color:#a50">&#34;b&#34;</span> <span style="color:#a50">&#34;Board&#34;</span> <span style="color:#a00">entry</span> (<span style="color:#a00">file+headline</span> <span style="color:#a50">&#34;~/documents/board/board.org&#34;</span> <span style="color:#a50">&#34;Uncategorized&#34;</span>)
                   <span style="color:#a50">&#34;* %?\n:PROPERTIES:\n:URL: %^C\n:END:\n:LOGBOOK:\n- Entered at %U\n:END:\n&#34;</span>)
                  (<span style="color:#a50">&#34;n&#34;</span> <span style="color:#a50">&#34;Note&#34;</span> <span style="color:#a00">entry</span> (<span style="color:#a00">file+headline</span> <span style="color:#a50">&#34;inbox.org&#34;</span> <span style="color:#a50">&#34;Notes&#34;</span>)
                   <span style="color:#a50">&#34;* %?\n:LOGBOOK:\n- Entered at %U\n:END:\n%x&#34;</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-hide-emphasis-markers</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-src-fontify-natively</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-tags-column</span> <span style="color:#099">0</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-pretty-entities</span> <span style="color:#a00">t</span>)
  (<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-9</span>
        &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#83a598&#34;</span>)))
        <span style="color:#a50">&#34;Face used for level 9 headlines.&#34;</span>
        <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
  (<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-10</span>
        &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#fabd2f&#34;</span>)))
        <span style="color:#a50">&#34;Face used for level 10 headlines.&#34;</span>
        <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
  (<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-11</span>
        &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#d3869b&#34;</span>)))
        <span style="color:#a50">&#34;Face used for level 11 headlines.&#34;</span>
        <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
  (<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-12</span>
        &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#fb4933&#34;</span>)))
        <span style="color:#a50">&#34;Face used for level 12 headlines.&#34;</span>
        <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-level-faces</span> (<span style="color:#0a0">append</span> <span style="color:#a00">org-level-faces</span> (<span style="color:#0a0">list</span> <span style="color:#00a">&#39;org-level-9</span> <span style="color:#00a">&#39;org-level-10</span> <span style="color:#00a">&#39;org-level-11</span> <span style="color:#00a">&#39;org-level-12</span>)))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-n-level-faces</span> (<span style="color:#0a0">length</span> <span style="color:#a00">org-level-faces</span>))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-cycle-level-faces</span> <span style="color:#a00">nil</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
    <span style="color:#a50">&#34;l&#34;</span>  <span style="color:#00a">&#39;org-store-link</span>
    <span style="color:#a50">&#34;a&#34;</span>  <span style="color:#00a">&#39;org-agenda</span>
    <span style="color:#a50">&#34;c&#34;</span>  <span style="color:#00a">&#39;org-capture</span>)
  <span style="color:#0aa">:custom-face</span>
  (<span style="color:#a00">org-level-8</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">variable-pitch</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
  (<span style="color:#a00">org-level-7</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
  (<span style="color:#a00">org-level-6</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
  (<span style="color:#a00">org-level-5</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
  (<span style="color:#a00">org-level-4</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.1</span>))))
  (<span style="color:#a00">org-level-3</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.25</span>))))
  (<span style="color:#a00">org-level-2</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.5</span>))))
  (<span style="color:#a00">org-level-1</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.75</span>))))
  (<span style="color:#a00">org-document-title</span>        ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">2.0</span> <span style="color:#0aa">:underline</span> <span style="color:#a00">nil</span>))))
  (<span style="color:#a00">org-block</span>                 ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span>))))
  (<span style="color:#a00">org-document-info</span>         ((<span style="color:#a00">t</span> (<span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;dark orange&#34;</span>))))
  (<span style="color:#a00">org-document-info-keyword</span> ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>)))))
  (<span style="color:#a00">org-link</span>                  ((<span style="color:#a00">t</span> (<span style="color:#0aa">:underline</span> <span style="color:#a00">t</span>))))
  (<span style="color:#a00">org-meta-line</span>             ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">font-lock-comment-face</span> <span style="color:#a00">fixed-pitch</span>)))))
  (<span style="color:#a00">org-property-value</span>        ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span>))))
  (<span style="color:#a00">org-table</span>                 ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span>))))
  (<span style="color:#a00">org-block-begin-line</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
  (<span style="color:#a00">org-block-end-line</span>        ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
  (<span style="color:#a00">org-special-keyword</span>       ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">font-lock-comment-face</span> <span style="color:#a00">fixed-pitch</span>)))))
  (<span style="color:#a00">org-tag</span>                   ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>) <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span> <span style="color:#0aa">:height</span> <span style="color:#099">0.8</span>))))
  (<span style="color:#a00">org-verbatim</span>              ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>)))))
  (<span style="color:#a00">org-code</span>                  ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>)))))
  (<span style="color:#a00">org-indent</span>                ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">org-hide</span> <span style="color:#a00">fixed-pitch</span>)))))
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">hercules-def</span>
   <span style="color:#0aa">:show-funs</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">org-babel-enter</span>
   <span style="color:#0aa">:hide-funs</span> &#39;(<span style="color:#a00">org-babel-exit</span> <span style="color:#a00">org-babel-tangle</span>)
   <span style="color:#0aa">:keymap</span> <span style="color:#00a">&#39;org-babel-map</span>
   <span style="color:#0aa">:transient</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-def</span> <span style="color:#a00">org-mode-map</span> <span style="color:#a50">&#34;C-c C-v&#34;</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">org-babel-enter</span>)
  (<span style="color:#a00">general-def</span> <span style="color:#0aa">:prefix-map</span> <span style="color:#00a">&#39;org-babel-map</span>
              <span style="color:#a50">&#34;q&#34;</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">org-babel-exit</span>)
  )</code></pre></div>
<h3 id="general-settings-1">general settings</h3>

<p>Turn on <code>org-indent</code>, aka clean view by default:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-startup-indented</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Enforce to-do dependencies (i.e. children block their parent)</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-enforce-todo-dependencies</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>I found that usually I have something to say when I closing a task, for example a link to the reproduction note. Thus I&rsquo;d like to have closing note by default.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-log-done</span> <span style="color:#00a">&#39;note</span>)</code></pre></div>
<p>Put newer note at the top:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-reverse-note-order</span> <span style="color:#a00">t</span>)</code></pre></div>
<h3 id="general-keybindings">general keybindings</h3>

<p>Global keybindings as recommended in <a href="https://orgmode.org/manual/Activation.html#Activation">Org Manual</a>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
  <span style="color:#a50">&#34;l&#34;</span>  <span style="color:#00a">&#39;org-store-link</span>
  <span style="color:#a50">&#34;a&#34;</span>  <span style="color:#00a">&#39;org-agenda</span>
  <span style="color:#a50">&#34;c&#34;</span>  <span style="color:#00a">&#39;org-capture</span>)</code></pre></div>
<p>And of course, <code>org-mode</code>&rsquo;s Evil integration:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-org</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">org</span> <span style="color:#a00">evil</span>)
  <span style="color:#0aa">:hook</span>
  (<span style="color:#a00">org-mode</span> . (<span style="color:#0aa">lambda</span> () (<span style="color:#a00">evil-org-mode</span> <span style="color:#099">1</span>)))
  (<span style="color:#a00">org-agenda-mode</span> . (<span style="color:#0aa">lambda</span> () (<span style="color:#a00">evil-org-mode</span> <span style="color:#099">1</span>)))
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">org-src-mode-map</span> [<span style="color:#a00">remap</span> <span style="color:#a00">evil-write</span>] <span style="color:#00a">&#39;org-edit-src-save</span>)
  <span style="color:#0aa">:commands</span> <span style="color:#a00">org-agenda</span>
  <span style="color:#0aa">:config</span>
  (<span style="color:#a00">evil-org-set-key-theme</span>)
  (<span style="color:#0aa">require</span> <span style="color:#00a">&#39;evil-org-agenda</span>)
  (<span style="color:#a00">evil-org-agenda-set-keys</span>))</code></pre></div>
<p>Here are some evil-specific bindings:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">org-src-mode-map</span> [<span style="color:#a00">remap</span> <span style="color:#a00">evil-write</span>] <span style="color:#00a">&#39;org-edit-src-save</span>)</code></pre></div>
<h3 id="task-management">task management</h3>

<p>I generally follow the GTD way as my task management system.
reference:</p>

<ul>
<li><a href="https://hamberg.no/gtd/">GTD in 15 minutes – A Pragmatic Guide to Getting Things Done</a> by Erlend Hamberg</li>
<li><a href="http://www.members.optusnet.com.au/~charles57/GTD/">Emacs, org-mode and Getting Things Done (GTD)</a> by Charles Cave</li>
</ul>

<p>Todo state keywords. The todo state is simple:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-todo-keywords</span>
              &#39;((<span style="color:#a00">sequence</span> <span style="color:#a50">&#34;TODO(t!)&#34;</span> <span style="color:#a50">&#34;ENGAGE(e!)&#34;</span> <span style="color:#a50">&#34;WAIT(w@/@)&#34;</span> <span style="color:#a50">&#34;|&#34;</span> <span style="color:#a50">&#34;DONE(d@)&#34;</span>)
                (<span style="color:#a50">&#34;|&#34;</span> <span style="color:#a50">&#34;CANCELED(c@)&#34;</span>)))</code></pre></div>
<p>Log into a <code>LOGBOOK</code> drawer so that things are folded when we want to read about outcome descriptions</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-log-into-drawer</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>When refiling, log down a timestamp:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-log-refile</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Now finally, <code>org-directory</code> that will be used to look for capture templates:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-directory</span> <span style="color:#a50">&#34;~/documents/tracking&#34;</span>)</code></pre></div>
<p>And the list of files/directories I want my agenda to track:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-agenda-files</span> (<span style="color:#0aa">quote</span> (<span style="color:#a50">&#34;~/documents/tracking&#34;</span>)))</code></pre></div>
<p>And a default note file for templates that does not specify a target file:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-default-notes-file</span> <span style="color:#a50">&#34;~/documents/tracking/inbox.org&#34;</span>)</code></pre></div>
<p>Archive things into an archive directory:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-archive-location</span> <span style="color:#a50">&#34;~/documents/archive/%s_archive::* Archived&#34;</span>)</code></pre></div>
<p>As GTD requires, I want to refile elements to maybe list or next action list:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-refile-targets</span> (<span style="color:#0aa">quote</span> ((<span style="color:#a50">&#34;maybe.org&#34;</span> <span style="color:#0aa">:maxlevel</span> . <span style="color:#099">2</span>)
                                         (<span style="color:#a50">&#34;tasks.org&#34;</span> <span style="color:#0aa">:level</span> . <span style="color:#099">1</span>))))</code></pre></div>
<p>Caputre templates that helps reduce boilerplate:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-capture-templates</span>
              &#39;((<span style="color:#a50">&#34;t&#34;</span> <span style="color:#a50">&#34;Todo&#34;</span> <span style="color:#a00">entry</span> (<span style="color:#a00">file+headline</span> <span style="color:#a50">&#34;inbox.org&#34;</span> <span style="color:#a50">&#34;Tasks&#34;</span>)
                 <span style="color:#a50">&#34;* TODO %?\n:LOGBOOK:\n- with context %a at %U\n:END:\n&#34;</span>)
                (<span style="color:#a50">&#34;b&#34;</span> <span style="color:#a50">&#34;Board&#34;</span> <span style="color:#a00">entry</span> (<span style="color:#a00">file+headline</span> <span style="color:#a50">&#34;~/documents/board/board.org&#34;</span> <span style="color:#a50">&#34;Uncategorized&#34;</span>)
                 <span style="color:#a50">&#34;* %?\n:PROPERTIES:\n:URL: %^C\n:END:\n:LOGBOOK:\n- Entered at %U\n:END:\n&#34;</span>)
                (<span style="color:#a50">&#34;n&#34;</span> <span style="color:#a50">&#34;Note&#34;</span> <span style="color:#a00">entry</span> (<span style="color:#a00">file+headline</span> <span style="color:#a50">&#34;inbox.org&#34;</span> <span style="color:#a50">&#34;Notes&#34;</span>)
                 <span style="color:#a50">&#34;* %?\n:LOGBOOK:\n- Entered at %U\n:END:\n%x&#34;</span>)))</code></pre></div>
<h3 id="babel">babel</h3>

<p>References:</p>

<ul>
<li><a href="https://orgmode.org/worg/org-contrib/babel/intro.html">Babel: Introduction</a> in worg/org-contrib</li>
<li><a href="https://orgmode.org/manual/Working-with-Source-Code.html#Working-with-Source-Code">Working with Source Code</a> from <code>org-mode</code>&rsquo;s manual</li>
<li><a href="https://howardism.org/Technical/Emacs/literate-programming-tutorial.html">Introduction to Literate Programming</a> by Howard Abrams</li>
</ul>

<p>I declared a hydra for <code>org-babel</code> to make things easier:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">hercules-def</span>
 <span style="color:#0aa">:show-funs</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">org-babel-enter</span>
 <span style="color:#0aa">:hide-funs</span> &#39;(<span style="color:#a00">org-babel-exit</span> <span style="color:#a00">org-babel-tangle</span>)
 <span style="color:#0aa">:keymap</span> <span style="color:#00a">&#39;org-babel-map</span>
 <span style="color:#0aa">:transient</span> <span style="color:#a00">t</span>)
(<span style="color:#a00">general-def</span> <span style="color:#a00">org-mode-map</span> <span style="color:#a50">&#34;C-c C-v&#34;</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">org-babel-enter</span>)
(<span style="color:#a00">general-def</span> <span style="color:#0aa">:prefix-map</span> <span style="color:#00a">&#39;org-babel-map</span>
            <span style="color:#a50">&#34;q&#34;</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">org-babel-exit</span>)</code></pre></div>
<h4 id="ob-dot">ob-dot</h4>

<p><code>org-babel</code> integration with <code>dot</code> language, i.e the language used in <a href="https://graphviz.org/">graphviz</a>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">ob-dot</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">org</span>)</code></pre></div>
<h4 id="ob-plantuml">ob-plantuml</h4>

<p><code>org-babel</code> integration with <code>plantuml</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">ob-plantuml</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">org</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">when</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;gnu/linux</span>)
    (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-plantuml-jar-path</span> <span style="color:#a50">&#34;/usr/share/java/plantuml/plantuml.jar&#34;</span>))
  (<span style="color:#a00">add-to-list</span>
   <span style="color:#00a">&#39;org-src-lang-modes</span> &#39;(<span style="color:#a50">&#34;plantuml&#34;</span> . <span style="color:#a00">plantuml</span>)))</code></pre></div>
<h3 id="org-brain">org-brain</h3>

<p><a href="https://github.com/Kungsgeten/org-brain">org-brain</a> implements concept mapping for org mode, and is also a tool to build my own personal wiki.</p>

<p>Enable tracking org heading links using globally unique uids. This is a must-have even without <code>org-brain</code>, because org mode won&rsquo;t fix the broken links when you refile/archive some subtrees to a different file.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">org-id</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-id-track-globally</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-id-link-to-org-use-id</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-id-locations-file</span> (<span style="color:#0a0">expand-file-name</span> <span style="color:#a50">&#34;emacs/org-id-locations&#34;</span> (<span style="color:#a00">xdg-data-home</span>))))</code></pre></div>
<p>Now load <code>org-brain</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">org-brain</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">evil</span> <span style="color:#a00">org</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-brain-path</span> <span style="color:#a50">&#34;~/documents&#34;</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-brain-title-max-length</span> <span style="color:#099">30</span>)
  (<span style="color:#a00">evil-set-initial-state</span> <span style="color:#00a">&#39;org-brain-visualize-mode</span> <span style="color:#00a">&#39;emacs</span>)
  <span style="color:#0aa">:general</span>

  <span style="color:#0aa">:custom-face</span>
  (<span style="color:#a00">org-brain-title</span> ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
  )</code></pre></div>
<p><code>org-brain</code>&rsquo;s keymap conflicts with evil&rsquo;s normal state, so before manually setting the keymaps it might worth simply using emacs-state by default:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">evil-set-initial-state</span> <span style="color:#00a">&#39;org-brain-visualize-mode</span> <span style="color:#00a">&#39;emacs</span>)</code></pre></div>
<p>Inherit <code>org-brain-title</code> face from inner-most org-mode heading (so that it won&rsquo;t be over-sized):</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">org-brain-title</span> ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))</code></pre></div>
<h3 id="org-board">org-board</h3>

<p><a href="https://github.com/scallywag/org-board">org-board</a> is a helper package that archives web pages locally via <code>wget</code>. It enable my personal wiki to save web content so that I can review / grab things later.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">org-board</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">org</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-board-wget-switches</span>
                &#39;(<span style="color:#a50">&#34;--page-requisites&#34;</span> <span style="color:#a50">&#34;--adjust-extension&#34;</span> <span style="color:#a50">&#34;--convert-links&#34;</span>))
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">org-board-archive-date-format</span> <span style="color:#00a">&#39;hyphenate</span>)
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>)</code></pre></div>
<h3 id="deft">deft</h3>

<p><a href="https://jblevins.org/projects/deft/">deft</a> is not directly related to org mode, but a general purpose plain-text note browser. It works nicely with <a href="#org-brain">org-brain</a> and <a href="#org-mode">Org Mode</a>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">deft</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:commands</span> (<span style="color:#a00">deft</span>)
  <span style="color:#0aa">:general</span>
  (<span style="color:#a00">my/leader-def</span> <span style="color:#00a">&#39;normal</span>
    <span style="color:#a50">&#34;d&#34;</span> <span style="color:#00a">&#39;deft</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">deft-auto-save-interval</span> <span style="color:#099">0</span>) <span style="color:#aaa;font-style:italic">;; turn off</span>
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">deft-directory</span> <span style="color:#a00">org-brain-path</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">deft-recursive</span> <span style="color:#a00">t</span>)
  (<span style="color:#a00">general-setq</span> <span style="color:#a00">deft-extensions</span> &#39;(<span style="color:#a50">&#34;org&#34;</span>)))</code></pre></div>
<h3 id="toc-org">toc-org</h3>

<p><a href="https://github.com/snosov1/toc-org">toc-org</a> will automatically update the content of the first heading with a <code>:TOC:</code> tag in an org file to show an up-to-date TOC whenever the file is saved. Handy!</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">toc-org</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">org</span>
  <span style="color:#0aa">:hook</span> (<span style="color:#a00">org-mode</span> . <span style="color:#a00">toc-org-mode</span>))</code></pre></div>
<h3 id="ox-hugo">ox-hugo</h3>

<p><a href="https://ox-hugo.scripter.co/">ox-hugo</a> basically add a <code>ox</code> (<code>org-export</code>) backend that exports to <a href="https://gohugo.io/">Hugo</a>-compatible Markdown (Blackfriday) with YAML or TOML front-matter.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">ox-hugo</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">ox</span>)</code></pre></div>
<h3 id="style-and-faces">style and faces</h3>

<p>This part of code is basically grabbed from <a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">Beautifying Org Mode in Emacs</a> by zzamboni.</p>

<p>Hide <code>=</code>, <code>~</code> and other emphasis markers, and fontify src block natively:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-hide-emphasis-markers</span> <span style="color:#a00">t</span>)
(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-src-fontify-natively</span> <span style="color:#a00">t</span>)
(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-tags-column</span> <span style="color:#099">0</span>)</code></pre></div>
<p>Display <code>\lambda</code> etc as their unicode symbols (this works pretty well with embeded LaTeX symbol:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-pretty-entities</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Use <code>org-bullets</code> to replace <code>*</code> with some cool unicode symbol. This seems super slow on Windows.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">org-bullets</span>
  <span style="color:#0aa">:if</span> (<span style="color:#0a0">memq</span> <span style="color:#0a0">window-system</span> &#39;(<span style="color:#a00">mac</span> <span style="color:#a00">ns</span>))
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> <span style="color:#a00">org</span>
  <span style="color:#0aa">:hook</span>
  (<span style="color:#a00">org-mode</span> . (<span style="color:#0aa">lambda</span> () (<span style="color:#a00">org-bullets-mode</span> <span style="color:#099">1</span>))))</code></pre></div>
<p>Use different font-size for headers, use sans-serif for non-code-like parts (powered by Emacs!), while still keeping code-like part using monospace font.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">org-level-8</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">variable-pitch</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
(<span style="color:#a00">org-level-7</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
(<span style="color:#a00">org-level-6</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
(<span style="color:#a00">org-level-5</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span>))))
(<span style="color:#a00">org-level-4</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.1</span>))))
(<span style="color:#a00">org-level-3</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.25</span>))))
(<span style="color:#a00">org-level-2</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.5</span>))))
(<span style="color:#a00">org-level-1</span>               ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.75</span>))))
(<span style="color:#a00">org-document-title</span>        ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">2.0</span> <span style="color:#0aa">:underline</span> <span style="color:#a00">nil</span>))))
(<span style="color:#a00">org-block</span>                 ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span>))))
(<span style="color:#a00">org-document-info</span>         ((<span style="color:#a00">t</span> (<span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;dark orange&#34;</span>))))
(<span style="color:#a00">org-document-info-keyword</span> ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>)))))
(<span style="color:#a00">org-link</span>                  ((<span style="color:#a00">t</span> (<span style="color:#0aa">:underline</span> <span style="color:#a00">t</span>))))
(<span style="color:#a00">org-meta-line</span>             ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">font-lock-comment-face</span> <span style="color:#a00">fixed-pitch</span>)))))
(<span style="color:#a00">org-property-value</span>        ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span>))))
(<span style="color:#a00">org-table</span>                 ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span>))))
(<span style="color:#a00">org-block-begin-line</span>      ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
(<span style="color:#a00">org-block-end-line</span>        ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">fixed-pitch</span> <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span>))))
(<span style="color:#a00">org-special-keyword</span>       ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">font-lock-comment-face</span> <span style="color:#a00">fixed-pitch</span>)))))
(<span style="color:#a00">org-tag</span>                   ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>) <span style="color:#0aa">:weight</span> <span style="color:#a00">bold</span> <span style="color:#0aa">:height</span> <span style="color:#099">0.8</span>))))
(<span style="color:#a00">org-verbatim</span>              ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>)))))
(<span style="color:#a00">org-code</span>                  ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">shadow</span> <span style="color:#a00">fixed-pitch</span>)))))
(<span style="color:#a00">org-indent</span>                ((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> (<span style="color:#a00">org-hide</span> <span style="color:#a00">fixed-pitch</span>)))))</code></pre></div>
<p>8 levels of headings are sometimes not enough for me, thus I define several more levels:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-9</span>
      &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#83a598&#34;</span>)))
      <span style="color:#a50">&#34;Face used for level 9 headlines.&#34;</span>
      <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
(<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-10</span>
      &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#fabd2f&#34;</span>)))
      <span style="color:#a50">&#34;Face used for level 10 headlines.&#34;</span>
      <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
(<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-11</span>
      &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#d3869b&#34;</span>)))
      <span style="color:#a50">&#34;Face used for level 11 headlines.&#34;</span>
      <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
(<span style="color:#0aa">defface</span> <span style="color:#a00">org-level-12</span>
      &#39;((<span style="color:#a00">t</span> (<span style="color:#0aa">:inherit</span> <span style="color:#a00">org-level-8</span> <span style="color:#0aa">:height</span> <span style="color:#099">1.0</span> <span style="color:#0aa">:foreground</span> <span style="color:#a50">&#34;#fb4933&#34;</span>)))
      <span style="color:#a50">&#34;Face used for level 12 headlines.&#34;</span>
      <span style="color:#0aa">:group</span> <span style="color:#00a">&#39;org-faces</span>)
(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-level-faces</span> (<span style="color:#0a0">append</span> <span style="color:#a00">org-level-faces</span> (<span style="color:#0a0">list</span> <span style="color:#00a">&#39;org-level-9</span> <span style="color:#00a">&#39;org-level-10</span> <span style="color:#00a">&#39;org-level-11</span> <span style="color:#00a">&#39;org-level-12</span>)))
(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-n-level-faces</span> (<span style="color:#0a0">length</span> <span style="color:#a00">org-level-faces</span>))</code></pre></div>
<p>The main reason I add more level faces is that I don&rsquo;t want the large first levels to show up again at level more than 8. Thus it is also reasonable to turn of level cycling:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#a00">general-setq</span> <span style="color:#a00">org-cycle-level-faces</span> <span style="color:#a00">nil</span>)</code></pre></div>
<h2 id="language-specific">Language specific</h2>

<h3 id="plantuml">plantuml</h3>

<p><a href="http://plantuml.com/">plantuml</a> is a language / tool that draws sequence diagram, class dependency diagram and so on with text instructions.</p>

<p><a href="https://github.com/skuro/plantuml-mode">plantuml-mode</a>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">plantuml-mode</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:mode</span> <span style="color:#a50">&#34;\\.uml\\&#39;&#34;</span>
  <span style="color:#0aa">:init</span>
  (<span style="color:#0aa">when</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;gnu/linux</span>)
    (<span style="color:#a00">general-setq</span> <span style="color:#a00">plantuml-default-exec-mode</span> <span style="color:#00a">&#39;executable</span>)))</code></pre></div>
<h3 id="rust">rust</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">rust-mode</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>)</code></pre></div>
<h3 id="beancount">beancount</h3>

<p><a href="http://furius.ca/beancount/">beancount</a> is a plain-text double-entry counting tool.
as of this <a href="https://bitbucket.org/blais/beancount/pull-requests/115">PR</a> and discussion <a href="https://groups.google.com/forum/#!searchin/beancount/major$20mode%7Csort:date/beancount/zLtd9XF3ALQ/f3BCurRqCQAJ">here</a> and <a href="https://groups.google.com/d/topic/beancount/B1YA2n7r8SE/discussion">here</a>, <code>beancount</code> is no longer compatible with <code>org-mode</code>, because it runs its own major mode.</p>

<p>reference:</p>

<ul>
<li><a href="https://lwn.net/Articles/751874/">Counting beans—and more—with Beancount</a> by Jake Edge</li>
<li><a href="https://alexjj.com/blog/2016/managing-my-personal-finances-with-beancount/">Managing my personal finances with beancount</a> by Alex Johnstone</li>
<li><a href="https://aumayr.github.io/beancount-docs-static/index.html">Beancount Documentation</a></li>
</ul>

<!--listend-->
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">beancount</span>
  <span style="color:#0aa">:if</span> (<span style="color:#0a0">eq</span> <span style="color:#a00">system-type</span> <span style="color:#00a">&#39;gnu/linux</span>)
  <span style="color:#0aa">:load-path</span> <span style="color:#a50">&#34;/usr/elisp/&#34;</span>
  <span style="color:#0aa">:mode</span> (<span style="color:#a50">&#34;\\.beancount\\&#39;&#34;</span> . <span style="color:#a00">beancount-mode</span>)
  <span style="color:#0aa">:init</span>
  (<span style="color:#a00">add-hook</span> <span style="color:#00a">&#39;beancount-mode-hook</span> <span style="color:#0a0">#&#39;</span><span style="color:#a00">outline-minor-mode</span>)
  (<span style="color:#0aa">defvaralias</span> <span style="color:#00a">&#39;beancount-transaction-indent</span> <span style="color:#00a">&#39;tab-width</span>))</code></pre></div>
<h2 id="magit">Magit</h2>

<p><a href="https://github.com/magit/magit">magit</a> is an Emacs interface to git, which provides not only commands to call but also a full GUI-like wrapper around git.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">magit</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>)</code></pre></div>
<p>Its Evil integration:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">evil-magit</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">evil</span> <span style="color:#a00">magit</span>))</code></pre></div>
<p>Its <code>treemacs</code> integration that notifies <code>treemacs</code>&rsquo; <code>filewatch-mode</code> of status changes:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(<span style="color:#0aa">use-package</span> <span style="color:#a00">treemacs-magit</span>
  <span style="color:#0aa">:ensure</span> <span style="color:#a00">t</span>
  <span style="color:#0aa">:after</span> (<span style="color:#a00">treemacs</span> <span style="color:#a00">magit</span>))</code></pre></div>
  <footer class="reading-info">
    <div class="left">
       <div class="tags">
    &#x1f3f7;
    <nav class="jumplist">
        <ul>
          

          

        </ul>
    </nav>
</div>

    </div>
    <div class="right">
      <a href="https://quinoa42.github.io/en/dot-emacs/">permalink to this post</a>
    </div>
  </footer>
</article>

    </main>
    <footer id="footer">
    
    <hr />
    <div><a href="https://github.com/quinoa42">GitHub</a></div>
    <div><a href="https://bgm.tv/user/112851">Bangumi</a></div>
    <div><a href="https://myanimelist.net/profile/quinoa42">MyAnimeList</a></div>
    
    </footer>
  </body>
</html>
